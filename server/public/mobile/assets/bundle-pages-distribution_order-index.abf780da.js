import{_ as e}from"./u-search.b8555d94.js";import{d as a,v as t,u as s,ae as l,r as u,a as r,o as d,c as o,w as c,b as n,e as p,f,k as x,t as i,a2 as _,F as m,bL as b,j as y,D as v}from"./index.0909ac6c.js";import{t as g,a as j}from"./tabs.b16c84eb.js";import{_ as h}from"./z-paging.1a5d6e51.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-icon.0b85921a.js";import"./u-badge.2b611478.js";import"./u-sticky.c3d66a2b.js";import"./useTouch.93885aba.js";const w=a({__name:"orderList",props:{status:{type:String,default:""},keyWord:{type:String,default:""},current:{type:Number,default:0},i:{type:Number,default:0}},setup(e){const a=e,g=t({status:a.status,keyword:""});s();const j=t(null),k=t([]),w=async(e,a)=>{try{const{lists:t}=await b({page_no:e,page_size:a,...g.value});j.value.complete(t)}catch(t){j.value.complete(!1)}};return l((()=>a.keyWord),(()=>{a.current==a.i&&(g.value.keyword=a.keyWord,j.value.reload())})),l((()=>a.current),(async()=>{a.current==a.i&&j.value.reload()}),{immediate:!1}),(a,t)=>{const s=y,l=v,b=u(r("z-paging"),h);return d(),o(b,{ref_key:"paging",ref:j,modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=e=>k.value=e),onQuery:w,fixed:!1,height:"100%",auto:e.i==e.current},{default:c((()=>[n(s,{class:"px-[20rpx]"},{default:c((()=>[(d(!0),p(m,null,f(k.value,((e,a)=>(d(),o(s,{class:"bg-white rounded mt-[20rpx]",key:a},{default:c((()=>[n(s,{class:"p-[20rpx] flex justify-between",style:{"border-bottom":"1px solid #e3e3e3"}},{default:c((()=>[n(s,{class:"text-[#555555]"},{default:c((()=>[x("订单编号："+i(e.order_sn),1)])),_:2},1024),n(s,{class:"text-[#FF2C3C]"},{default:c((()=>[x(i(e.status_desc),1)])),_:2},1024)])),_:2},1024),n(s,{class:"flex p-[20rpx]",style:{"border-bottom":"1px solid #e3e3e3"}},{default:c((()=>[n(l,{class:"w-[180rpx] h-[180rpx] rounded-lg",src:e.course_cover},null,8,["src"]),n(s,{class:"w-[330rpx] truncate ml-[20rpx]"},{default:c((()=>[x(i(e.course_name),1)])),_:2},1024),n(s,{class:"flex flex-col justify-between flex-1 items-end"},{default:c((()=>[n(s,{class:"text-xs text-[#999]"},{default:c((()=>[x("¥"+i(e.sell_price),1)])),_:2},1024),n(s,{class:"text-xs text-[#999]"},{default:c((()=>[x("x"+i(e.course_num),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),n(s,{class:"p-[20rpx] flex justify-between"},{default:c((()=>[n(s,{class:"flex flex-col justify-around"},{default:c((()=>[n(s,{class:"flex items-center"},{default:c((()=>[n(l,{class:"h-[70rpx] w-[70rpx] rounded-full",src:e.avatar},null,8,["src"]),n(s,{class:"ml-[13rpx]"},{default:c((()=>[x(i(e.nickname),1)])),_:2},1024)])),_:2},1024),n(s,{class:"text-sm text-[#999]"},{default:c((()=>[x(i(e.create_time),1)])),_:2},1024)])),_:2},1024),n(s,{class:"flex flex-col justify-around"},{default:c((()=>[n(s,{class:"text-xs text-[#666]"},{default:c((()=>[x("合计实付：¥"+i(e.order_amount),1)])),_:2},1024),n(s,null,{default:c((()=>[_("span",{class:"text-xs text-[#666]"},"预估收益："),_("span",{class:"text-base text-[#F95F2F]"},"¥"+i(e.earnings),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue","auto"])}}});var F=k(a({__name:"index",setup(a){const s=t(0),l=t(""),x=t([{label:"全部",status:""},{label:"待返佣",status:1},{label:"已结算",status:2},{label:"已失效",status:3}]),i=e=>{s.value=e};return(a,t)=>{const _=u(r("u-search"),e),b=y,v=u(r("tab"),g),h=u(r("tabs"),j);return d(),p("div",null,[n(b,{class:"px-[30rpx] py-[20rpx] bg-white"},{default:c((()=>[n(_,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),placeholder:"请输入商品名称/订单编号/用户昵称"},null,8,["modelValue"])])),_:1}),n(b,null,{default:c((()=>[n(h,{current:s.value,isScroll:!1,onChange:i},{default:c((()=>[(d(!0),p(m,null,f(x.value,((e,a)=>(d(),o(v,{key:a,name:e.label},{default:c((()=>[n(b,{class:"orderList"},{default:c((()=>[n(w,{keyWord:l.value,status:e.status,current:s.value,i:a},null,8,["keyWord","status","current","i"])])),_:2},1024)])),_:2},1032,["name"])))),128))])),_:1},8,["current"])])),_:1})])}}}),[["__scopeId","data-v-72f4c33e"]]);export{F as default};

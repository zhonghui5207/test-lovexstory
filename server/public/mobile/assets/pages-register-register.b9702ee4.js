import{o as e,c as t,C as l,A as o,h as a,j as s,r,a as n,w as u,b as d,k as i,t as c,l as p,e as m,F as f,d as y,v as h,u as _,X as g,a3 as b,g as x,a2 as v,B as C,au as w,af as S,m as k}from"./index.0909ac6c.js";import{_ as V}from"./u-input.99f8d670.js";import{_ as $}from"./u-checkbox.ed7bec9f.js";import{_ as B}from"./u-button.a01fb808.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as z}from"./u-popup.7b59164b.js";import"./u-icon.0b85921a.js";var I=j({name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle(){let e={};return e.width=this.size+"rpx",e.height=this.size+"rpx","circle"==this.mode&&(e.borderColor=`#e4e4e4 #e4e4e4 #e4e4e4 ${this.color?this.color:"#c7c7c7"}`),e}}},[["render",function(r,n,u,d,i,c){const p=s;return u.show?(e(),t(p,{key:0,class:l(["u-loading","circle"==u.mode?"u-loading-circle":"u-loading-flower"]),style:o([c.cricleStyle])},null,8,["class","style"])):a("v-if",!0)}],["__scopeId","data-v-53c07659"]]);var T=j({name:"u-modal",emits:["update:modelValue","input","confirm","cancel"],props:{value:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:""},title:{type:[String],default:"提示"},width:{type:[Number,String],default:600},content:{type:String,default:"内容"},showTitle:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},borderRadius:{type:[Number,String],default:16},titleStyle:{type:Object,default:()=>({})},contentStyle:{type:Object,default:()=>({})},cancelStyle:{type:Object,default:()=>({})},confirmStyle:{type:Object,default:()=>({})},zoom:{type:Boolean,default:!0},asyncClose:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!1},negativeTop:{type:[String,Number],default:0},blur:{type:[Number,String],default:0}},data:()=>({loading:!1,popupValue:!1}),computed:{valueCom(){return this.modelValue},cancelBtnStyle(){return Object.assign({color:this.cancelColor},this.cancelStyle)},confirmBtnStyle(){return Object.assign({color:this.confirmColor},this.confirmStyle)},uZIndex(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},watch:{valueCom(e){!0===e&&(this.loading=!1),this.popupValue=e}},methods:{confirm(){this.asyncClose?this.loading=!0:(this.$emit("input",!1),this.$emit("update:modelValue",!1)),this.$emit("confirm")},cancel(){this.$emit("cancel"),this.$emit("input",!1),this.$emit("update:modelValue",!1),setTimeout((()=>{this.loading=!1}),300)},popupClose(){this.$emit("input",!1),this.$emit("update:modelValue",!1)},clearLoading(){this.loading=!1}}},[["render",function(l,y,h,_,g,b){const x=s,v=r(n("u-loading"),I),C=r(n("u-popup"),z);return e(),t(x,null,{default:u((()=>[d(C,{blur:h.blur,zoom:h.zoom,mode:"center",popup:!1,"z-index":b.uZIndex,modelValue:g.popupValue,"onUpdate:modelValue":y[0]||(y[0]=e=>g.popupValue=e),length:h.width,"mask-close-able":h.maskCloseAble,"border-radius":h.borderRadius,onClose:b.popupClose,"negative-top":h.negativeTop},{default:u((()=>[d(x,{class:"u-model"},{default:u((()=>[h.showTitle?(e(),t(x,{key:0,class:"u-model__title u-line-1",style:o([h.titleStyle])},{default:u((()=>[i(c(h.title),1)])),_:1},8,["style"])):a("v-if",!0),d(x,{class:"u-model__content"},{default:u((()=>[l.$slots.default||l.$slots.$default?(e(),t(x,{key:0,style:o([h.contentStyle])},{default:u((()=>[p(l.$slots,"default",{},void 0,!0)])),_:3},8,["style"])):(e(),t(x,{key:1,class:"u-model__content__message",style:o([h.contentStyle])},{default:u((()=>[i(c(h.content),1)])),_:1},8,["style"]))])),_:3}),h.showCancelButton||h.showConfirmButton?(e(),t(x,{key:1,class:"u-model__footer u-border-top"},{default:u((()=>[h.showCancelButton?(e(),t(x,{key:0,"hover-stay-time":100,"hover-class":"u-model__btn--hover",class:"u-model__footer__button",style:o([b.cancelBtnStyle]),onClick:b.cancel},{default:u((()=>[i(c(h.cancelText),1)])),_:1},8,["style","onClick"])):a("v-if",!0),h.showConfirmButton||l.$slots["confirm-button"]?(e(),t(x,{key:1,"hover-stay-time":100,"hover-class":h.asyncClose?"none":"u-model__btn--hover",class:"u-model__footer__button hairline-left",style:o([b.confirmBtnStyle]),onClick:b.confirm},{default:u((()=>[l.$slots["confirm-button"]?p(l.$slots,"confirm-button",{key:0},void 0,!0):(e(),m(f,{key:1},[g.loading?(e(),t(v,{key:0,mode:"circle",color:h.confirmColor},null,8,["color"])):(e(),m(f,{key:1},[i(c(h.confirmText),1)],64))],64))])),_:3},8,["hover-class","style","onClick"])):a("v-if",!0)])),_:3})):a("v-if",!0)])),_:3})])),_:3},8,["blur","zoom","z-index","modelValue","length","mask-close-able","border-radius","onClose","negative-top"])])),_:3})}],["__scopeId","data-v-35116f03"]]);var N=j(y({__name:"register",setup(l){const o=h(!1),c=_(),p=g((()=>1==c.getLoginConfig.login_agreement)),m=b({account:"",password:"",password_confirm:""}),f=h(!1),y=async()=>!o.value&&p.value?f.value=!0:m.account?m.password?m.password_confirm?m.password!=m.password_confirm?uni.$u.toast("两次输入的密码不一致"):(await w(m),void S()):uni.$u.toast("请输入确认密码"):uni.$u.toast("请输入密码"):uni.$u.toast("请输入账号"),j=e=>{k({url:e})};return(l,c)=>{const h=s,_=r(n("u-input"),V),g=r(n("u-checkbox"),$),b=r(n("u-button"),B),w=r(n("u-modal"),T);return e(),t(h,{class:"register bg-white min-h-full flex flex-col items-center px-[40rpx] pt-[40rpx] box-border"},{default:u((()=>[d(h,{class:"w-full"},{default:u((()=>[d(h,{class:"text-2xl font-medium mb-[60rpx]"},{default:u((()=>[i("注册新账号")])),_:1}),d(h,{class:"px-[18rpx] border border-solid border-lightc border-light rounded-[10rpx] h-[100rpx] items-center flex"},{default:u((()=>[d(_,{class:"flex-1",modelValue:m.account,"onUpdate:modelValue":c[0]||(c[0]=e=>m.account=e),border:!1,placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),d(h,{class:"px-[18rpx] border border-solid border-lightc border-light rounded-[10rpx] h-[100rpx] items-center flex mt-[40rpx]"},{default:u((()=>[d(_,{class:"flex-1",type:"password",modelValue:m.password,"onUpdate:modelValue":c[1]||(c[1]=e=>m.password=e),placeholder:"请输入密码",border:!1},null,8,["modelValue"])])),_:1}),d(h,{class:"px-[18rpx] border border-solid border-lightc border-light rounded-[10rpx] h-[100rpx] items-center flex mt-[40rpx]"},{default:u((()=>[d(_,{class:"flex-1",type:"password",modelValue:m.password_confirm,"onUpdate:modelValue":c[2]||(c[2]=e=>m.password_confirm=e),placeholder:"请确认密码",border:!1},null,8,["modelValue"])])),_:1}),x(p)?(e(),t(h,{key:0,class:"mt-[40rpx]"},{default:u((()=>[d(g,{modelValue:o.value,"onUpdate:modelValue":c[5]||(c[5]=e=>o.value=e),shape:"circle"},{default:u((()=>[d(h,{class:"text-xs flex"},{default:u((()=>[i(" 已阅读并同意 "),v("div",{class:"text-primary",onClick:c[3]||(c[3]=C((e=>j("/pages/agreement/agreement?type=service")),["stop"]))}," 《服务协议》 "),i(" 和 "),v("div",{class:"text-primary",onClick:c[4]||(c[4]=C((e=>j("/pages/agreement/agreement?type=privacy")),["stop"]))}," 《隐私协议》 ")])),_:1})])),_:1},8,["modelValue"])])),_:1})):a("v-if",!0),d(h,{class:"mt-[60rpx]"},{default:u((()=>[d(b,{type:"primary","hover-class":"none",onClick:y,customStyle:{height:"100rpx",opacity:m.account&&m.password&&m.password_confirm?"1":"0.5"}},{default:u((()=>[i(" 注册 ")])),_:1},8,["customStyle"])])),_:1})])),_:1}),a(" 协议弹框 "),d(w,{modelValue:f.value,"onUpdate:modelValue":c[8]||(c[8]=e=>f.value=e),"show-cancel-button":"","show-title":!1,onConfirm:c[9]||(c[9]=e=>{o.value=!0,f.value=!1}),onCancel:c[10]||(c[10]=e=>f.value=!1)},{default:u((()=>[d(h,{class:"text-center px-[70rpx] py-[60rpx]"},{default:u((()=>[d(h,null,{default:u((()=>[i(" 请先阅读并同意 ")])),_:1}),d(h,{class:"flex justify-center"},{default:u((()=>[v("div",{class:"text-primary",onClick:c[6]||(c[6]=e=>j("/pages/agreement/agreement?type=service"))}," 《服务协议》 "),i(" 和 "),v("div",{class:"text-primary",onClick:c[7]||(c[7]=e=>j("/pages/agreement/agreement?type=privacy"))}," 《隐私协议》 ")])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-7c41cfcf"]]);export{N as default};

import{d as e,u as t,r as a,a as s,o as l,c as n,w as c,b as o,e as r,f as i,g as u,F as d,h as p,n as f,S as m,i as b,j as _,k as g,t as x,l as v,m as y,p as h,q as k,s as w,v as j,x as C,y as z,z as O}from"./index.0909ac6c.js";import{_ as I}from"./search.b783c983.js";import{_ as $}from"./u-image.879031a5.js";import{_ as U}from"./z-paging.1a5d6e51.js";import{_ as V}from"./tabbar.ca9716f8.js";import{_ as F}from"./u-icon.0b85921a.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";import{C as P}from"./index.c8eeccc8.js";import{g as Q}from"./shop.005defa8.js";import{a as S,b as A}from"./store.44d0c87b.js";import"./u-badge.2b611478.js";import"./index.5b25a2dc.js";const B=e({__name:"banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:g}=t();return(t,x)=>{const v=a(s("u-image"),$),y=m,h=b,k=_;return e.content.data.length&&e.content.enabled?(l(),n(k,{key:0,class:"banner h-[340rpx] bg-white translate-y-0"},{default:c((()=>[o(h,{class:"swiper h-full","indicator-dots":e.content.data.length>1,"indicator-active-color":"#4173ff",autoplay:!0},{default:c((()=>[(l(!0),r(d,null,i(e.content.data,((e,t)=>(l(),n(y,{key:t,onClick:t=>{return a=e.link,void f(a);var a}},{default:c((()=>[o(v,{mode:"aspectFit",width:"100%",height:"100%",src:u(g)(e.image)},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["indicator-dots"])])),_:1})):p("v-if",!0)}}}),D=e({__name:"nav",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:m}=t();return(t,b)=>{const v=a(s("u-image"),$),y=_;return e.content.data.length&&e.content.enabled?(l(),n(y,{key:0,class:"nav pt-[30rpx] pb-[16rpx] bg-white"},{default:c((()=>[o(y,{class:"nav-item flex flex-wrap"},{default:c((()=>[(l(!0),r(d,null,i(e.content.data,((e,t)=>(l(),n(y,{key:t,class:"flex flex-col items-center w-1/5 mb-[30rpx]",onClick:t=>{return a=e.link,void f(a);var a}},{default:c((()=>[o(v,{width:"41px",height:"41px",src:u(m)(e.image),alt:""},null,8,["src"]),o(y,{class:"mt-[14rpx]"},{default:c((()=>[g(x(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):p("v-if",!0)}}});var E=q(e({__name:"card",props:{title:{default:""}},setup:e=>(t,a)=>{const s=_;return l(),n(s,{class:"card"},{default:c((()=>[p(" 卡片头部 "),o(s,{class:"card--header flex justify-between"},{default:c((()=>[o(s,{class:"title"},{default:c((()=>[g(x(e.title),1)])),_:1}),v(t.$slots,"header-right",{},void 0,!0)])),_:3}),p(" 内容商品 "),v(t.$slots,"default",{},void 0,!0)])),_:3})}}),[["__scopeId","data-v-9ff1cf28"]]);const G=e({__name:"special-zone",props:{content:{type:Object,default:{}}},setup(e){const t=e=>{y({url:e})};return(u,p)=>{const f=h,m=a(s("u-icon"),F),b=_,v=a(s("u-image"),$),y=k;return l(),n(E,{title:e.content.title},{"header-right":c((()=>[o(b,{onClick:p[0]||(p[0]=a=>t(`/bundle/pages/subject_list/index?title=${e.content.title}`)),class:""},{default:c((()=>[o(f,{class:"text-xs mr-[10px]"},{default:c((()=>[g("更多")])),_:1}),o(m,{name:"arrow-right",size:"22"})])),_:1})])),default:c((()=>[o(y,{class:"whitespace-nowrap","scroll-x":"true"},{default:c((()=>[o(b,{class:"ml-[30rpx] flex flex-nowrap"},{default:c((()=>[(l(!0),r(d,null,i(e.content.data,(e=>(l(),n(b,{key:e.id,class:"mr-[20rpx] w-[266rpx]"},{default:c((()=>[o(b,{class:"h-[480rpx] rounded-md overflow-hidden",onClick:a=>t(`/bundle/pages/subject_detail/index?id=${e.id}`)},{default:c((()=>[o(b,{class:"flex row-center"},{default:c((()=>[o(v,{src:e.cover,width:"268",height:"360"},null,8,["src"])])),_:2},1024),o(b,{class:"h-[120rpx] text-center"},{default:c((()=>[o(b,{class:"truncate text-lg font-medium pt-[10rpx]"},{default:c((()=>[g(x(e.name),1)])),_:2},1024),o(b,{class:"text-[#666666] pt-[10rpx]"},{default:c((()=>[g(x(e.course_num||0)+"人在学习 ",1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["title"])}}}),H=e({__name:"hot",props:{content:{type:Object,default:{}}},setup:e=>(t,r)=>{const i=h,u=a(s("u-icon"),F),d=_;return l(),n(E,{title:"热门课程"},{"header-right":c((()=>[o(d,{onClick:r[0]||(r[0]=e=>{y({url:"/bundle/pages/hot_list/index"})}),class:"muted"},{default:c((()=>[o(i,{class:"text-xs mr-[10rpx]"},{default:c((()=>[g("更多")])),_:1}),o(u,{name:"arrow-right",size:"22"})])),_:1})])),default:c((()=>[o(P,{type:"lists",list:e.content},null,8,["list"])])),_:1})}}),J=e({__name:"choice",props:{content:{type:Object,default:{}}},setup:e=>(t,a)=>(l(),n(E,{title:"精选课程"},{default:c((()=>[p(' <template #header-right>\r\n            <view @click="goPage(\'/bundle/pages/master_worker_list/index\')" class="muted">\r\n                <text class="text-xs mr-[10rpx]">更多</text>\r\n                <u-icon name="arrow-right" size="22"></u-icon>\r\n            </view>\r\n        </template> '),o(P,{type:"larger",list:e.content},null,8,["list"])])),_:1}))});var K=q({},[["render",function(e,t){const a=_;return l(),n(a,{class:"index-skeleton"},{default:c((()=>[o(a,{class:"search-skt base-bg base-br base-margin"}),o(a,{class:"banner-skt base-bg base-br"}),o(a,{class:"menus-skt flex flex-wrap"},{default:c((()=>[(l(),r(d,null,i(10,(e=>o(a,{class:"menuitem flex-col col-center",key:e},{default:c((()=>[o(a,{class:"menuitem-icon base-bg"}),o(a,{class:"menuitem-text base-bg"})])),_:2},1024))),64))])),_:1}),o(a,{class:"line-skt base-bg"}),o(a,{class:"special-skt flex justify-between"},{default:c((()=>[o(a,{class:"special-text base-bg"}),o(a,{class:"special-icon base-bg"})])),_:1}),o(a,{class:"goods-skt flex justify-between col-top"},{default:c((()=>[(l(),r(d,null,i(3,(e=>o(a,{class:"goods-item base-bg base-br",key:e}))),64))])),_:1}),o(a,{class:"line-skt base-bg"}),o(a,{class:"goods-skt flex justify-between col-top"},{default:c((()=>[(l(),r(d,null,i(3,(e=>o(a,{class:"goods-item base-bg base-br",key:e}))),64))])),_:1})])),_:1})}],["__scopeId","data-v-58e04a0d"]]);var L=q(e({__name:"index",setup(e){t();const u=w(),f=j({}),m=j([]),b=j([]),g=j(!0),x=async()=>{var e;try{const t=await Q();f.value=null==(e=null==t?void 0:t.page)?void 0:e.data,g.value=!1,u.value.complete(f.value)}catch(t){g.value=!1,console.log(t),u.value.complete(!1)}};return C((()=>{x(),(async()=>{try{const{lists:e}=await S({is_choice:2});b.value=e}catch(e){console.log(e)}})(),(async()=>{try{const e=await A();m.value=e,console.log(m.value)}catch(e){console.log(e)}})()})),(e,t)=>{const v=a(s("w-search"),I),y=a(s("w-banner"),B),h=a(s("w-nav"),D),k=a(s("z-paging"),U),w=_,j=a(s("tabbar"),V);return l(),n(w,{class:"container"},{default:c((()=>[o(w,{class:"main"},{default:c((()=>[o(k,{ref_key:"paging",ref:u,modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),onQuery:x,fixed:!1,height:"100%"},{default:c((()=>[(l(!0),r(d,null,i(f.value,((e,t)=>(l(),r(d,{key:t},["search"==e.name?(l(),n(v,{key:0,content:e.content,styles:e.styles},null,8,["content","styles"])):p("v-if",!0),"banner"==e.name?(l(),n(y,{key:1,content:e.content,styles:e.styles},null,8,["content","styles"])):p("v-if",!0),"nav"==e.name?(l(),n(h,{key:2,content:e.content,styles:e.styles},null,8,["content","styles"])):p("v-if",!0),"special"==e.name&&2!=e.content.enabled?(l(),n(G,{key:3,content:e.content},null,8,["content"])):p("v-if",!0)],64)))),128)),(l(),n(H,{key:0,content:m.value},null,8,["content"])),b.value?(l(),n(J,{key:1,content:b.value},null,8,["content"])):p("v-if",!0)])),_:1},8,["modelValue"])])),_:1}),p(" 底部导航栏 "),o(j,{active:"0"}),p(" 骨架屏 "),z(o(K,null,null,512),[[O,g.value]])])),_:1})}}}),[["__scopeId","data-v-15de3ecc"]]);export{L as default};

import{d as e,v as t,ae as a,r as s,a as l,o as r,c as i,w as n,b as o,e as u,f as c,k as d,t as f,a2 as p,h as m,F as x,N as _,O as y,m as b,b0 as g,j as k,s as v,a3 as h,aZ as j,x as w,p as C}from"./index.0909ac6c.js";import{_ as z}from"./u-icon.0b85921a.js";import{_ as U}from"./u-button.a01fb808.js";import{a as $,t as V}from"./tabs.b16c84eb.js";import{_ as q}from"./z-paging.1a5d6e51.js";import{a as I,b as N,c as Q}from"./question_bank.3092fafb.js";import{_ as T}from"./payPop.72a1d929.js";import{_ as B}from"./tabbar.ca9716f8.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-badge.2b611478.js";import"./u-sticky.c3d66a2b.js";import"./useTouch.93885aba.js";import"./u-popup.7b59164b.js";const L=e({__name:"QBLIst",props:{category_id:{type:Number,default:-1}},emits:["toUnlock"],setup(e,{emit:v}){const h=e,j=t(null),w=t([]),C=async(e,t)=>{_({title:"加载中..."});const a=await I({page_no:e,page_size:t,category_id:h.category_id});j.value.complete(a.lists),y()},U=e=>{b({url:`/bundle/pages/do_exercises/index?id=${e}`})};return a((()=>h.category_id),(async()=>{await g(),j.value.reload()}),{deep:!0}),(e,t)=>{const a=s(l("u-icon"),z),_=k,y=s(l("z-paging"),q);return r(),i(_,{class:"mt-[21rpx] h-full"},{default:n((()=>[o(y,{ref_key:"paging",ref:j,modelValue:w.value,"onUpdate:modelValue":t[0]||(t[0]=e=>w.value=e),onQuery:C,fixed:!1,height:"100%"},{default:n((()=>[(r(!0),u(x,null,c(w.value,((e,t)=>(r(),i(_,{class:"flex items-center py-[20rpx]",key:t},{default:n((()=>[o(_,{class:"bg-primary rounded-full flex items-center justify-center w-[60rpx] h-[60rpx]"},{default:n((()=>[o(a,{size:"34",color:"#ffffff",name:"edit-pen"})])),_:1}),o(_,{class:"ml-[20rpx] flex-1"},{default:n((()=>[o(_,{class:"font-medium text-base"},{default:n((()=>[d(f(e.name),1)])),_:2},1024),o(_,{class:"flex mt-[14rpx]"},{default:n((()=>[o(a,{size:"34",color:"#888888",name:"edit-pen"}),p("div",{class:"text-[#888888]"},f(e.finish_num)+"/"+f(e.topic_num)+"题 ",1)])),_:2},1024)])),_:2},1024),1==e.btn_status?(r(),i(_,{key:0,class:"flex items-center"},{default:n((()=>[o(_,{class:"text-primary mr-2",onClick:t=>U(e.id)},{default:n((()=>[d("开始答题")])),_:2},1032,["onClick"]),o(a,{name:"arrow-right",color:"#888888"})])),_:2},1024)):m("v-if",!0),2==e.btn_status?(r(),i(_,{key:1,class:"flex items-center",onClick:t=>U(e.id)},{default:n((()=>[o(_,{class:"text-primary mr-2"},{default:n((()=>[d("继续答题")])),_:1}),o(a,{name:"arrow-right",color:"#888888"})])),_:2},1032,["onClick"])):m("v-if",!0),3==e.btn_status?(r(),i(_,{key:2,class:"flex items-center",onClick:t=>{return a=e.id,void b({url:`/bundle/pages/answer_report/index?id=${a}`});var a}},{default:n((()=>[o(_,{class:"text-primary mr-2"},{default:n((()=>[d("查看报告")])),_:1}),o(a,{name:"arrow-right",color:"#888888"})])),_:2},1032,["onClick"])):m("v-if",!0),4==e.btn_status?(r(),i(_,{key:3,class:"flex items-center",onClick:t=>{v("toUnlock",e)}},{default:n((()=>[o(_,{class:"text-primary mr-2"},{default:n((()=>[d("解锁答题")])),_:1}),o(a,{name:"arrow-right",color:"#888888"})])),_:2},1032,["onClick"])):m("v-if",!0)])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1})}}});var O=F(e({__name:"index",setup(e){const a=t([]),_=t(0),y=v(),g=h({count:0,lists:[]}),q=async e=>{_.value=e},I=e=>{b({url:`/bundle/pages/do_exercises/index?id=${e}`})},F=()=>{b({url:"/bundle/pages/my_question_bank/index"})},O=e=>{y.value.open(e)};return j((()=>{(async()=>{a.value=await N()})()})),w((()=>{(async()=>{const{count:e,lists:t}=await Q();g.count=e,g.lists=t})()})),(e,t)=>{const v=k,h=C,j=s(l("u-icon"),z),w=s(l("u-button"),U);return r(),u(x,null,[o(v,{class:"pt-[20rpx] px-[20rpx] flex flex-col pageContainer"},{default:n((()=>[o(v,{class:"bg-white rounded-lg p-[20rpx]"},{default:n((()=>[o(v,{class:"flex justify-between"},{default:n((()=>[o(v,{class:"font-medium text-[32rpx] title"},{default:n((()=>[d("我的题库")])),_:1}),o(v,{class:"text-[#888888] flex items-center",onClick:F},{default:n((()=>[o(h,null,{default:n((()=>[d("全部")])),_:1}),o(h,{class:"ml-1 mr-1"},{default:n((()=>[d(f(g.count),1)])),_:1}),o(j,{name:"arrow-right"})])),_:1})])),_:1}),g.lists.length?(r(),i(v,{key:0,class:"pt-[34rpx] flex"},{default:n((()=>[o(v,{class:"flex-1"},{default:n((()=>[o(v,{class:"font-medium text-base"},{default:n((()=>[d(f(g.lists[0].name),1)])),_:1}),o(v,{class:"flex mt-[14rpx]"},{default:n((()=>[o(j,{size:"34",color:"#888888",name:"edit-pen"}),p("div",{class:"text-[#888888]"},f(g.lists[0].finish_num)+"/"+f(g.lists[0].topic_num)+"题 ",1)])),_:1})])),_:1}),1==g.lists[0].btn_status?(r(),i(w,{key:0,"custom-style":{"font-size":"28rpx",padding:"10rpx 24rpx"},shape:"circle",type:"primary",onClick:t[0]||(t[0]=e=>I(g.lists[0].id))},{default:n((()=>[d("开始答题")])),_:1})):m("v-if",!0),2==g.lists[0].btn_status?(r(),i(w,{key:1,"custom-style":{"font-size":"28rpx",padding:"10rpx 24rpx"},shape:"circle",type:"primary",onClick:t[1]||(t[1]=e=>I(g.lists[0].id))},{default:n((()=>[d("继续答题")])),_:1})):m("v-if",!0),3==g.lists[0].btn_status?(r(),i(w,{key:2,"custom-style":{"font-size":"28rpx",padding:"10rpx 24rpx"},shape:"circle",type:"primary",onClick:t[2]||(t[2]=e=>{return t=g.lists[0].id,void b({url:`/bundle/pages/answer_report/index?id=${t}`});var t})},{default:n((()=>[d("查看报告")])),_:1})):m("v-if",!0),4==g.lists[0].btn_status?(r(),i(w,{key:3,"custom-style":{"font-size":"28rpx",padding:"10rpx 24rpx"},shape:"circle",type:"primary",onClick:t[3]||(t[3]=e=>O(g.lists[0]))},{default:n((()=>[d("立即解锁")])),_:1})):m("v-if",!0)])),_:1})):(r(),u("div",{key:1,class:"py-[50rpx] text-center text-info"},"暂无任何题库~"))])),_:1}),o(v,{class:"bg-white rounded-lg p-[20rpx] mt-[20rpx] flex-1 flex flex-col"},{default:n((()=>[o(v,{class:"flex justify-between"},{default:n((()=>[o(v,{class:"font-medium text-[32rpx] title"},{default:n((()=>[d("题库列表")])),_:1})])),_:1}),o(v,{class:"flex-1 flex flex-col"},{default:n((()=>[o(v,{class:"flex-none"},{default:n((()=>[o($,{onChange:q},{default:n((()=>[(r(!0),u(x,null,c(a.value,((e,t)=>(r(),i(V,{key:t,name:e.name},null,8,["name"])))),128))])),_:1})])),_:1}),o(v,{class:"flex-1"},{default:n((()=>{var e;return[o(L,{category_id:null==(e=a.value[_.value])?void 0:e.id,onToUnlock:O},null,8,["category_id"])]})),_:1})])),_:1})])),_:1})])),_:1}),o(T,{ref_key:"popRef",ref:y},null,512),o(B)],64)}}}),[["__scopeId","data-v-253a4203"]]);export{O as default};

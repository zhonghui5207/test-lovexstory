import{o as e,c as t,w as a,b as l,e as s,f as r,C as i,B as o,A as u,k as n,t as c,h as d,F as p,D as m,j as f,S as b,i as x,d as g,r as _,a as y,b3 as v,m as h,v as k,a3 as C,s as w,a2 as F,a4 as A,X as j,ag as V,x as S,y as R,z as E,g as I,b4 as P,b5 as B,b6 as M,az as U,b7 as D,p as G,I as N,b8 as z}from"./index.0909ac6c.js";import{t as L,a as O}from"./tabs.b16c84eb.js";import{_ as K}from"./u-button.a01fb808.js";import{_ as Y}from"./u-empty.1075db88.js";import{_ as J}from"./u-popup.7b59164b.js";import{_ as W}from"./u-image.879031a5.js";import{_ as Z}from"./plugin-vue_export-helper.21dcd24c.js";import{P as X}from"./index.5b25a2dc.js";import{_ as T}from"./mp-html.427f03d4.js";import{C as q}from"./index.dda398ef.js";import{_ as Q}from"./u-rate.6a269493.js";import{_ as H}from"./u-icon.0b85921a.js";import{c as $}from"./index.2c7f59b4.js";import{c as ee}from"./coupon.c29ff76c.js";import{a as te,b as ae}from"./goods.771ae366.js";import{a as le}from"./order.ef69829d.js";import"./u-badge.2b611478.js";import"./u-sticky.c3d66a2b.js";import"./useTouch.93885aba.js";var se=Z({name:"u-swiper",emits:["click","change"],props:{list:{type:Array,default:()=>[]},title:{type:Boolean,default:!1},indicator:{type:Object,default:()=>({})},borderRadius:{type:[Number,String],default:8},interval:{type:[String,Number],default:3e3},mode:{type:String,default:"round"},height:{type:[Number,String],default:250},indicatorPos:{type:String,default:"bottomCenter"},effect3d:{type:Boolean,default:!1},effect3dPreviousMargin:{type:[Number,String],default:50},autoplay:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},circular:{type:Boolean,default:!0},imgMode:{type:String,default:"aspectFill"},name:{type:String,default:"image"},bgColor:{type:String,default:"#f3f4f6"},current:{type:[Number,String],default:0},titleStyle:{type:Object,default:()=>({})}},watch:{list(e,t){e.length!==t.length&&(this.uCurrent=0)},current(e){this.uCurrent=e}},data(){return{uCurrent:this.current}},computed:{justifyContent(){return"topLeft"==this.indicatorPos||"bottomLeft"==this.indicatorPos?"flex-start":"topCenter"==this.indicatorPos||"bottomCenter"==this.indicatorPos?"center":"topRight"==this.indicatorPos||"bottomRight"==this.indicatorPos?"flex-end":void 0},titlePaddingBottom(){let e=0;return"none"==this.mode?"12rpx":(e=["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"==this.mode?"60rpx":["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"!=this.mode?"40rpx":"12rpx",e)},elCurrent(){return Number(this.current)}},methods:{listClick(e){this.$emit("click",e)},change(e){let t=e.detail.current;this.uCurrent=t,this.$emit("change",t)},animationfinish(e){}}},[["render",function(g,_,y,v,h,k){const C=m,w=f,F=b,A=x;return e(),t(w,{class:"u-swiper-wrap",style:u({borderRadius:`${y.borderRadius}rpx`})},{default:a((()=>[l(A,{current:k.elCurrent,onChange:k.change,onAnimationfinish:k.animationfinish,interval:y.interval,circular:y.circular,duration:y.duration,autoplay:y.autoplay,"previous-margin":y.effect3d?y.effect3dPreviousMargin+"rpx":"0","next-margin":y.effect3d?y.effect3dPreviousMargin+"rpx":"0",style:u({height:y.height+"rpx",backgroundColor:y.bgColor})},{default:a((()=>[(e(!0),s(p,null,r(y.list,((s,r)=>(e(),t(F,{class:"u-swiper-item",key:r},{default:a((()=>[l(w,{class:i(["u-list-image-wrap",[h.uCurrent!=r?"u-list-scale":""]]),onClick:o((e=>k.listClick(r)),["stop","prevent"]),style:u({borderRadius:`${y.borderRadius}rpx`,transform:y.effect3d&&h.uCurrent!=r?"scaleY(0.9)":"scaleY(1)",margin:y.effect3d&&h.uCurrent!=r?"0 20rpx":0})},{default:a((()=>[l(C,{class:"u-swiper-image",src:s[y.name]||s,mode:y.imgMode},null,8,["src","mode"]),y.title&&s.title?(e(),t(w,{key:0,class:"u-swiper-title u-line-1",style:u([{"padding-bottom":k.titlePaddingBottom},y.titleStyle])},{default:a((()=>[n(c(s.title),1)])),_:2},1032,["style"])):d("v-if",!0)])),_:2},1032,["onClick","class","style"])])),_:2},1024)))),128))])),_:1},8,["current","onChange","onAnimationfinish","interval","circular","duration","autoplay","previous-margin","next-margin","style"]),l(w,{class:"u-swiper-indicator",style:u({top:"topLeft"==y.indicatorPos||"topCenter"==y.indicatorPos||"topRight"==y.indicatorPos?"12rpx":"auto",bottom:"bottomLeft"==y.indicatorPos||"bottomCenter"==y.indicatorPos||"bottomRight"==y.indicatorPos?"12rpx":"auto",justifyContent:k.justifyContent,padding:"0 "+(y.effect3d?"74rpx":"24rpx")})},{default:a((()=>["rect"==y.mode?(e(!0),s(p,{key:0},r(y.list,((a,l)=>(e(),t(w,{class:i(["u-indicator-item-rect",{"u-indicator-item-rect-active":l==h.uCurrent}]),key:l},null,8,["class"])))),128)):d("v-if",!0),"dot"==y.mode?(e(!0),s(p,{key:1},r(y.list,((a,l)=>(e(),t(w,{class:i(["u-indicator-item-dot",{"u-indicator-item-dot-active":l==h.uCurrent}]),key:l},null,8,["class"])))),128)):d("v-if",!0),"round"==y.mode?(e(!0),s(p,{key:2},r(y.list,((a,l)=>(e(),t(w,{class:i(["u-indicator-item-round",{"u-indicator-item-round-active":l==h.uCurrent}]),key:l},null,8,["class"])))),128)):d("v-if",!0),"number"==y.mode?(e(),t(w,{key:3,class:"u-indicator-item-number"},{default:a((()=>[n(c(h.uCurrent+1)+"/"+c(y.list.length),1)])),_:1})):d("v-if",!0)])),_:1},8,["style"])])),_:1},8,["style"])}],["__scopeId","data-v-37003b61"]]);const re=g({__name:"index",props:{list:{default:[]},mode:{default:"round"},height:{default:"340"},indicatorPos:{default:"bottomCenter"},effect3d:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!0},interval:{default:"2500"},circular:{type:Boolean,default:!0},current:{default:0},name:{default:"image"},pid:{default:void 0}},setup(a){const l=a;console.log(l.list);return(s,r)=>{const i=_(y("u-image"),W),o=_(y("u-swiper"),se);return a.list.length?(e(),t(o,{key:1,list:a.list,mode:a.mode,height:a.height,effect3d:a.effect3d,"indicator-pos":a.indicatorPos,autoplay:a.autoplay,interval:a.interval,circular:a.circular,"border-radius":"0",current:a.current,name:a.name,onClick:r[0]||(r[0]=e=>{return t=e,void v(l.list[t].link);var t})},null,8,["list","mode","height","effect3d","indicator-pos","autoplay","interval","circular","current","name"])):(e(),t(i,{key:0,src:"/mobile/assets/img_null.bb67363b.png",width:"100%",height:a.height},null,8,["height"]))}}});var ie=Z(g({__name:"synopsis",props:{courseData:{default:""}},emits:["handleMeterialIsOpen"],setup:(s,{emit:r})=>(r,i)=>{const o=f,u=m,p=_(y("u-image"),W),b=_(y("mp-html"),T);return e(),t(o,{class:"p-[24rpx] bg-white"},{default:a((()=>[d(" 课件下载 "),s.courseData.meterial?(e(),t(o,{key:0,class:"bg-white mb-[30rpx]",onClick:i[0]||(i[0]=e=>r.$emit("handleMeterialIsOpen"))},{default:a((()=>[l(o,{class:"normal text-xl font-medium"},{default:a((()=>[n("教学服务")])),_:1}),l(o,{class:"course-materials--info flex row-between rounded-lg mt-[20rpx]"},{default:a((()=>[l(o,{class:"flex"},{default:a((()=>[l(u,{src:"/mobile/static/images/icon_course-materials.png"}),l(o,{class:"course-materials--info--name line-1 ml-[30px]"},{default:a((()=>[n("素材源文件.zip")])),_:1})])),_:1})])),_:1})])),_:1})):d("v-if",!0),d(" 讲师信息 "),l(o,{class:"mb-[30rpx]"},{default:a((()=>[l(o,{class:"normal text-xl font-medium text-[32rpx]"},{default:a((()=>[n("讲师介绍")])),_:1}),s.courseData.teacher?(e(),t(o,{key:0,class:"teacher-info bg-[#F3F5F9] flex rounded-lg",onClick:i[1]||(i[1]=e=>{return t=`/bundle/pages/teacher_detail/index?id=${s.courseData.teacher.id}`,void h({url:t});var t})},{default:a((()=>[l(p,{src:s.courseData.teacher.avatar,width:"100",height:"100",borderRadius:"50%"},null,8,["src"]),l(o,{class:"ml-[20rpx]"},{default:a((()=>[l(o,{class:"normal text-xl font-medium mb-[8rpx]"},{default:a((()=>[n(c(s.courseData.teacher.name),1)])),_:1}),l(o,{class:"teacher-info--synopsis line-2 muted font-sm"},{default:a((()=>[n(c(s.courseData.teacher.synopsis),1)])),_:1})])),_:1})])),_:1})):d("v-if",!0)])),_:1}),l(o,{class:"flex items-center px-[30rpx]"},{default:a((()=>[l(o,{class:"h-[1px] bg-[#e2e2e2] flex-1"}),l(o,{class:"flex-none mx-[20rpx] text-[28rpx]"},{default:a((()=>[n("课程详情")])),_:1}),l(o,{class:"h-[1px] bg-[#e2e2e2] flex-1"})])),_:1}),l(b,{content:s.courseData.content,class:"content"},null,8,["content"])])),_:1})}}),[["__scopeId","data-v-771701da"]]);var oe=Z(g({__name:"evaluate-card",props:{list:{default:[]}},setup:u=>(m,b)=>{const x=_(y("u-image"),W),g=f,v=_(y("u-rate"),Q);return e(!0),s(p,null,r(u.list,(u=>(e(),t(g,{key:u.id,class:"card"},{default:a((()=>[d(" Header Start "),l(g,{class:"card--header flex justify-between items-start"},{default:a((()=>[l(g,{class:"flex"},{default:a((()=>[l(x,{src:u.avatar,width:"80",height:"80","border-radius":"50%"},null,8,["src"]),l(g,{class:"ml-[20rpx]"},{default:a((()=>[l(g,{class:"text-md normal font-medium"},{default:a((()=>[n(c(u.nickname),1)])),_:2},1024),l(g,{class:"text-muted text-xs mt-[10rpx]"},{default:a((()=>[n(c(u.create_time),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),l(v,{count:5,modelValue:u.course_score,"onUpdate:modelValue":e=>u.course_score=e,size:"28","inactive-icon":"star-fill","active-color":"#FABB19",disabled:""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),d(" Main Start "),l(g,{class:"card--main"},{default:a((()=>[l(g,{class:"content"},{default:a((()=>[n(c(u.comment),1)])),_:2},1024),l(g,{class:"flex flex-wrap"},{default:a((()=>[(e(!0),s(p,null,r(u.comment_image,((s,r)=>(e(),t(g,{key:r,class:i(["mt-[10rpx]",{"mr-[10rpx]":(m.index+1)%3!=0}]),onClick:o((e=>{}),["stop"])},{default:a((()=>[l(x,{src:s.uri,width:"210",height:"210"},null,8,["src"])])),_:2},1032,["class","onClick"])))),128))])),_:2},1024),d(' <view class="reply normal font-md m-t-20" v-if="commentItem.reply">\n                    <text class="f-w-500">商家回复: </text>\n                    <text>\n                        {{ commentItem.reply }}\n                    </text>\n                </view> ')])),_:2},1024)])),_:2},1024)))),128)}}),[["__scopeId","data-v-48382d9e"]]);var ue=Z({},[["render",function(s,r){const i=f;return e(),t(i,{class:"skeleton"},{default:a((()=>[l(i,{class:"banner-skt base-bg base-br"}),l(i,{class:"info-skt"},{default:a((()=>[l(i,{class:"course-header flex row-between"},{default:a((()=>[l(i,{class:"course-header--name base-bg"}),l(i,{class:"course-header--share base-bg"})])),_:1}),l(i,{class:"line-skt base-bg"}),l(i,{class:"line-skt base-bg"}),l(i,{class:"line-skt base-bg"}),l(i,{class:"line-skt base-bg"}),l(i,{class:"course-footer flex row-between"},{default:a((()=>[l(i,{class:"course-footer--price base-bg"}),l(i,{class:"course-footer--desc base-bg"})])),_:1})])),_:1}),l(i,{class:"line-skt base-bg"}),l(i,{class:"teacher-skt flex"},{default:a((()=>[l(i,{class:"teacher-avatar base-bg"}),l(i,{class:""},{default:a((()=>[l(i,{class:"teacher-name base-bg"}),l(i,{class:"teacher-desc base-bg"})])),_:1})])),_:1}),l(i,{class:"line-skt base-bg"}),l(i,{class:"meterial-skt"},{default:a((()=>[l(i,{class:"meterial-title base-bg"}),l(i,{class:"meterial-info flex"},{default:a((()=>[l(i,{class:"meterial-info--icon base-bg"}),l(i,{class:"meterial-info--text base-bg"})])),_:1})])),_:1}),l(i,{class:"line-skt base-bg"}),l(i,{class:"goods-skt base-bg"})])),_:1})}],["__scopeId","data-v-4897dfc9"]]);var ne=Z(g({__name:"couponCom",props:{courseId:{type:Number,default:0}},setup(i,{expose:o}){const u=i,m=k(!1),b=C([]);return o({getCouponList:async()=>{const e=await ee({course_id:u.courseId});Object.keys(e).map((t=>{b[t]=e[t]})),console.log(b)}}),(i,o)=>{const u=f,x=_(y("u-icon"),H),g=_(y("u-popup"),J);return e(),s(p,null,[b.length>0?(e(),t(u,{key:0,class:"coupon p-[30rpx] bg-white mt-[24rpx] flex items-center rounded-lg",onClick:o[0]||(o[0]=e=>m.value=!0)},{default:a((()=>[l(u,{class:"text-base"},{default:a((()=>[n("优惠")])),_:1}),l(u,{class:"px-[10rpx] py-[3rpx] text-primary rounded-md ml-[40rpx]",style:{border:"1px solid #2073f4"}},{default:a((()=>[n("领券")])),_:1}),l(u,{class:"tick w-[200rpx] px-[24rpx] py-[3rpx] p-[10rpx] text-white bg-primary ml-[20rpx] rounded-sm"},{default:a((()=>[l(u,{class:"truncate"},{default:a((()=>{var e;return[n(c(null==(e=b[0])?void 0:e.content),1)]})),_:1})])),_:1}),b.length>1?(e(),t(u,{key:0,class:"tick w-[200rpx] px-[24rpx] py-[3rpx] p-[10rpx] text-white bg-primary ml-[20rpx] rounded-sm"},{default:a((()=>[l(u,{class:"truncate"},{default:a((()=>{var e;return[n(c(null==(e=b[1])?void 0:e.content),1)]})),_:1})])),_:1})):d("v-if",!0),l(u,{class:"flex-1 flex justify-end"},{default:a((()=>[l(x,{name:"arrow-right",color:"##FFFFFF",size:"28"})])),_:1})])),_:1})):d("v-if",!0),d("优惠券弹框"),l(g,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=e=>m.value=e),mode:"bottom",height:"850rpx",borderRadius:"14","safe-area-inset-bottom":"",closeable:""},{default:a((()=>[l(u,{class:"px-[30rpx]"},{default:a((()=>[l(u,{class:"title py-[25rpx] h-[100rpx] text-center text-3xl sticky top-0 bg-white",style:{"border-bottom":"1px solid #f6f6f6"}},{default:a((()=>[n("优惠")])),_:1}),(e(!0),s(p,null,r(b,((s,r)=>(e(),t(u,{key:r,class:"py-[15rpx]"},{default:a((()=>[l($,{"coupon-data":s,type:3},null,8,["coupon-data"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"]),d("优惠券弹框 End")],64)}}}),[["__scopeId","data-v-625cf4ac"]]);var ce=Z(g({__name:"index",setup(s,{expose:r}){const i=k(!1);return r({openPop:()=>{i.value=!0}}),(s,r)=>{const o=m,u=f,c=_(y("u-popup"),J);return e(),t(u,{class:"body"},{default:a((()=>[l(c,{class:"share-tips",modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=e=>i.value=e),mode:"top","custom-style":{backgroundColor:"rgba(0, 0, 0, 0)"}},{default:a((()=>[l(u,{style:{overflow:"hidden"}},{default:a((()=>[l(o,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAAD6CAMAAABEZV/QAAAAqFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8j1z1tAAAAN3RSTlMAEgsIAgRVKBkkDnhDhYA2WyEVcUcsk4swfGhfUM+YSx8+OjNsG+XgwGPyjsiciOu3qqL2+tvVdfvLBwAABqVJREFUeNrs2clyolAAheGjaMRZMiqGTsdEIAQiUzzv/2YtoF5AXXK5i/5WWi48Rf3FUEARphXrUMQLyQBK6EY8cKGCoc+Mq6F9jzZzoQJjTB6FaN2UGSWa6cTMKNGMYVFwR2iHSFdwe2jRV8IDNZqZseClzPldtESka7ss+B20ZOizkE4ttnxkRLrjVdsBL1IexcaOR1YXbZjxxNIC8bmNZrSIJ56+YWtjRLqFO5S++Bpke7d5NoZJwRpBsoXHswgjh8L+HnLNKFgaXliy1yFTJ6bgDLD0yLYCNnyWvAEBKb8Zka7wCUxY8atDmkXKkhcAbmtjViwLs3WsjdlCjlFU/d97oGNRkBmwYbHMmwAYs8bRIcPcYcVXts++GPMXEiwSVqxwELDOMdC8KatiHGwoyDsDdyMK4vEoIuU3M3BZtRvi4JVC6ZdmzS8yfcNB3+Ilu+Exa481JjKfvMJpdExvxro/yOjO1TFbNEeLWRci98NrvAEaY/is2xvIPHm8ZtfcmIHDumSCXMyr7Cc0JeCFO+QmFCSdgaesW6EQkrKb2cYOKwIU1rwheUJz7pfms+/V73A7v7xh94Fmdbd3q3CfkvYShTGFi4Al0DZfwTsKuk3ebkayb972Abk2CW/yZI8JedtuDql6Ls+cfXJxOZDrmWeP/bn57doUNpDrkycRMv3B6yqyEnGnJ9NbyoJXCkT/WP+EdjKGZIMdC8+o0owhZOta5+dbBUTMmVDBlBm/DxWsmVlACe+KvBrN6b9kOociHsgHqKK3XPbw3z927aa3URgIwPBrDAQIX4EAIYlCCHBA1fb//7yVVtrdqiUpUY0yB56zD5bt8cxYXq1WCxmOYj55wS6/spLOD2XUVH+kkZzJBHGDGIeLoFgqXIuVdG2IGFZ8QozN2w4xTrGcG4/uwEo6NQrapVvpI8ZRTrNP9tYihk4CVhMsSeviCjq+uh4RoysFJexzLugVT9T5FcQpFGIcKkEJ+1QjxlAKalGGXrEQ3bpjvYPQ7ZTDLDYLUF2jUdv82A+w30aXM6/i9XGZW9h/10N77QbaNOOx5oZZtgXXPMxsPgurKvV44FruMUq78ZU7gvDd5QE30piURFWjuSuwcCzuUFWDSU7/bWzu4gPTdJhhlGV/O2IsE5bnjRlzpL8KJqgAc1RcK+ZwzgUT+hRjVB1Z/MCm7DCmi3xmU95ET2tjjmI+t9ZfNrnjRfwvEWUHGlOSvc0zxiV7gG3OU7r3jI/aAmOKquApWtl84F1CjDnF9g9LX40xt4Qn6YD//MuNV2q3in+GMOCVkt/t3NluozAYBeBjY5vFbGEJSUCEJuQiQs37P96o00WtptOGCMi5yPcCQcLGv0/8O+4wjyTBWG7s4o32NCaU7zCWP2zw5lidMKGtwVjBRuCVtj0mpKoGt9tPG0Hrc4LbNQaT0gpj+SbDK4KgKowyvNCY2irDWI11AECdC0zMGoyVb/Hi0CaYWF/f+F+xNxhMLc01bhJuA0ytsJInZw08hXHckGBGv6utgkpDzMGRGEXGBRC2CeZgzhilfPZRtgazaAYHY7ipRJM7mIV3aWZ7teOZsbv+QGE2gatwvU1yjGjOd/VDVWvMyCl8XKmr2l5jTo6NJa5jLo3AvESUS1zlcMDsVsNVP+KlJyzAk/hdF9sMy1gJ/Ky8VL3AIpz4t8pm06RxgGX4UeTiv7IACKICSxE/BGrJUADhkGExUkAJjX/5dm0E4PlYlM5zV+MLBRy2Lu6h7NefsyDppqmC1gCkr7E05acrIN01pgSS+BI1+n3YeLgPY/OoAPz9x0vTdoe70dLBZyHVSR2Dhy94cqEPYcrzNKIiael9kUY8R5hERNQKozqCO6kJOeEJNMKW51y4qIgWgjQi6p0qXTx8w6UJY4CsIvr27mKe0fv0THSstizw8I2OqB9dRkRNiKbiWa03LVGvkrsnaogk0vGMFwQRUUVVVxS3Zf311NLcfQS4jzXpWyVRddeteV6S3BK1tqVrnvgDG6JKk4gT8nx50bQ80fOx5Wls0zHHBY6vXKJZTWRT82Sa2YVnwEhLFDiUMU+mCS1o1mpBtGELLFFaVlc8S1LTEmW9e56il4lIiGbS+cKzVO/XR7BYEe3YII88yyMRVRPFME3Ls3ssnomS3jNRiAiH5tMreIoGYLfl2ZiYNU8Jc2CaSB3R145IVvPMJG0jmqzM2Q08/yWdbAkePNWUTzNcAJ+o5PWqnmZF0tbSPAtUyXPUgiaaAlRNVGWa9gAWe6JnoQqE/gBcFmFRMOi2ywAAAABJRU5ErkJggg==",class:"share-arrow"}),l(u,{style:{"text-align":"center","margin-top":"280rpx",color:"white"}},{default:a((()=>[l(u,{class:"font-bold text-lg"},{default:a((()=>[n("立即分享给好友吧")])),_:1}),l(u,{class:"text-sm mt-[10rpx]"},{default:a((()=>[n("点击屏幕右上角将本页面分享给好友")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","custom-style"])])),_:1})}}}),[["__scopeId","data-v-c0b4e368"]]);var de=Z(g({__name:"distributeCom",props:{distributeData:{type:Object,default:{}}},setup(r){const i=w(),o=async()=>{i.value.openPop()};return(u,n)=>{const m=f,b=_(y("u-icon"),H);return e(),s(p,null,[r.distributeData.is_show?(e(),t(m,{key:0,class:"coupon p-[30rpx] bg-white mt-[24rpx] flex items-center rounded-lg flex"},{default:a((()=>[l(m,null,{default:a((()=>[F("span",{class:"text-base"},"佣金"),F("span",{class:"ml-2 text-error"},c(r.distributeData.ratio)+"%",1),F("span",null,"（预计"+c(r.distributeData.earnings)+"）",1)])),_:1}),l(m,{class:"flex-1 flex justify-end",onClick:o},{default:a((()=>[l(m,{class:"items-center"},{default:a((()=>[F("span",{class:"mr-1"},"立即分享"),l(b,{name:"arrow-right",color:"##FFFFFF",size:"28"})])),_:1})])),_:1})])),_:1})):d("v-if",!0),d("H5分享遮盖层 Start"),l(ce,{ref_key:"sharePopRef",ref:i},null,512)],64)}}}),[["__scopeId","data-v-67b9f2e0"]]);var pe=Z(g({__name:"index",setup(r){const o=k({id:0,name:"",synopsis:"",course_num:"",course_image:"",cover:"",sell_price:"",line_price:"",comment:"",content:"",fee_type:0,is_buy:!1,study_num:0,is_collect:!1,catalogue_list:[],teacher:{},type:0,meterial:{},is_buy_btn:1,is_buy_btn_desc:"",course_status:0,distribution:{}}),u=C({content:"",id:0,course_id:0,duration:0}),b=w(),x=k(!0),g=k(0),v=k(!1),F=k(!1),W=k(!1),Z=k(0),T=k(!0),Q=A(),H=j((()=>Q.token)),$=j((()=>"ios"==N().platform&&1==z())),ee=j((()=>e=>{switch(e){case 1:return"图文";case 2:return"音频";case 3:return"视频";case 4:return"专栏"}})),se=async()=>{try{o.value=await te({id:g.value}),setTimeout((()=>{T.value=!1}),100)}catch(e){x.value=!1,T.value=!1}},ce=()=>{if(!H.value)return ge("/pages/login/login");3==o.value.course_status?v.value=!0:W.value=!0},pe=()=>{if(o.value.meterial.is_link||P())B(`链接：${o.value.meterial.link}\n密码：${o.value.meterial.code}`);else if(!P()){M({url:o.value.meterial.content,success:e=>{console.log(e)}}).onProgressUpdate((e=>{console.log("下载进度",e)}))}},me=e=>{if(1==e.fee_type&&2==o.value.course_status){if($.value&&2==o.value.is_buy_btn)return void U({title:"提示",content:"本设备不支持购买",showCancel:!1});W.value=!0}else e.type=o.value.type,ge(`/pages/study_course/index?course_id=${o.value.id}&cate_id=${e.id}&type=${e.type}`)},fe=async()=>{if(!H.value)return ge("/pages/login/login");try{await ae({id:g.value}),F.value=!0,se()}catch(e){console.log("加入课程=>",e)}},be=async()=>{if(!H.value)return ge("/pages/login/login");try{const{order_id:e,type:t}=await le({course_id:g.value}),a={order_id:e,from:t};ge(`/pages/order_buy/index?params=${JSON.stringify(a)}`)}catch(e){throw new Error(e+"订单下单报错")}},xe=()=>{var e;const t=o.value,a=t.catalogue_list.findIndex((e=>0==e.is_study));ge(`/pages/study_course/index?course_id=${t.id}&cate_id=${null==(e=t.catalogue_list[-1==a?0:a])?void 0:e.id}&type=${t.type}`)},ge=e=>{h({url:e})},_e=()=>{h({url:"/pages/index/index"})};return V((e=>{g.value=(null==e?void 0:e.id)||0})),S((async()=>{W.value=!1,await se(),await b.value.getCouponList()})),(r,h)=>{const k=f,C=G,w=_(y("tab"),L),A=_(y("tabs"),O),j=m,V=_(y("u-button"),K),S=_(y("u-empty"),Y),P=_(y("u-popup"),J);return e(),s(p,null,[R(l(k,{class:"course"},{default:a((()=>[d(" 轮播图 "),l(k,null,{default:a((()=>[0==u.id?(e(),t(re,{key:0,list:o.value.course_image,height:"400",mode:"none",name:"uri",indicatorPos:"bottomRight"},null,8,["list"])):d("v-if",!0)])),_:1}),d(" Main Start "),d(" 课程信息 "),l(k,{class:"course-info bg-white rounded-b-lg"},{default:a((()=>[d(" 价格信息 && 学习信息 "),l(k,{class:"flex justify-between"},{default:a((()=>[d(" 价格 "),l(k,null,{default:a((()=>[1===o.value.fee_type?(e(),s(p,{key:0},[d(" 销售价 "),l(X,{content:o.value.sell_price,mainSize:"36rpx",minorSize:"34rpx",fontWeight:"500"},null,8,["content"]),d(" 划线价 "),"0"!=o.value.line_price?(e(),t(X,{key:0,content:o.value.line_price,mainSize:"26rpx",minorSize:"26rpx",class:"m-l-20",color:"#888888",lineThrough:""},null,8,["content"])):d("v-if",!0)],64)):(e(),t(C,{key:1,class:"text-2xl font-medium",style:{color:"#fa8919"}},{default:a((()=>[n("免费")])),_:1}))])),_:1}),d(" 学习信息 "),l(k,{class:"font-xs flex items-center"},{default:a((()=>[l(C,{class:"ml-[15rpx] text-muted"},{default:a((()=>[n(c(o.value.study_num||0)+"人已学习｜共"+c(o.value.course_num)+"讲",1)])),_:1})])),_:1})])),_:1}),l(k,{class:"flex col-start mt-[20rpx]"},{default:a((()=>[d(" 课程名称 "),l(k,{class:"text_hidden align-middle"},{default:a((()=>[l(C,{class:i(["tags",{"bg-[#E1F6F3] text-[#19D1B6]":1==o.value.type,"bg-[#EBEAFF] text-[#2171FF]":2==o.value.type,"bg-[#E4EEFF] text-[#817AFF]":3==o.value.type}])},{default:a((()=>[n(c(I(ee)(o.value.type)),1)])),_:1},8,["class"]),l(C,{class:"text-xl font-medium flex-1 break-all ml-[10rpx]"},{default:a((()=>[n(c(o.value.name),1)])),_:1})])),_:1}),d(" 分享 "),d(' <button class="btn flex" @click="showSharePop">\n                    <view class="share flex items-center">\n                        <image src="/static/images/icon_share.png"></image>\n                        <view class="text-xs lighter flex">分享</view>\n                    </view>\n                </button> '),d("分享")])),_:1}),d(" 介绍 "),l(k,{class:"text-muted mt-[18rpx] font-sm break-words"},{default:a((()=>[n(c(o.value.synopsis),1)])),_:1})])),_:1}),l(de,{"distribute-data":o.value.distribution},null,8,["distribute-data"]),l(ne,{ref_key:"couponComRef",ref:b,"course-id":o.value.id},null,8,["course-id"]),d(" 课程介绍 ｜｜ 课程目录 ｜｜ 课程评价 "),l(k,{class:"course_detail"},{default:a((()=>[l(A,{current:Z.value,fontSize:"32",top:0,isFixed:"",height:"100","bar-width":"60",inactiveColor:"#888888",tabsStyle:{"border-bottom":"1px solid #F6F6F6"},barStyle:{bottom:"-2rpx"},barHeight:"6"},{default:a((()=>[l(w,{name:"课程介绍",i:0,index:Z.value},{default:a((()=>[l(ie,{onHandleMeterialIsOpen:ce,courseData:o.value},null,8,["courseData"])])),_:1},8,["index"]),o.value.catalogue_list.length?(e(),t(w,{key:0,name:"课程目录",i:1,index:Z.value},{default:a((()=>[l(q,{list:o.value.catalogue_list,status:o.value.course_status,type:o.value.type,onRefresh:me},null,8,["list","status","type"])])),_:1},8,["index"])):d("v-if",!0),o.value.comment.length?(e(),t(w,{key:1,name:"学员评价",i:2,index:Z.value},{default:a((()=>[l(oe,{list:o.value.comment},null,8,["list"])])),_:1},8,["index"])):d("v-if",!0)])),_:1},8,["current"])])),_:1}),d(" Main End "),d(" Footer Start "),l(k,{class:"footer"},{default:a((()=>[l(k,{class:"flex text-center"},{default:a((()=>[l(k,{class:"footer--item text-center",onClick:_e},{default:a((()=>[l(j,{src:"/mobile/static/images/icon_home.png"}),l(k,null,{default:a((()=>[n("首页")])),_:1})])),_:1}),l(k,{class:"footer--item text-center",onClick:h[0]||(h[0]=e=>(async e=>{if(!H.value)return ge("/pages/login/login");await D({id:g.value,collect:e?0:1}),se()})(o.value.is_collect))},{default:a((()=>[l(j,{src:o.value.is_collect?"/static/images/icon_collection_s.png":"/static/images/icon_collection.png"},null,8,["src"]),l(k,null,{default:a((()=>[n("收藏")])),_:1})])),_:1}),1!==o.value.course_status||I($)&&1!=o.value.is_buy_btn?d("v-if",!0):(e(),t(V,{key:0,onClick:fe,class:"ml-[20rpx] flex-1",ripple:!0,shape:"circle","hair-line":!1,type:"primary"},{default:a((()=>[n("加入课程")])),_:1})),2!==o.value.course_status||I($)&&1!=o.value.is_buy_btn?d("v-if",!0):(e(),t(V,{key:1,onClick:be,class:"ml-[20rpx] flex-1",ripple:!0,shape:"circle","hair-line":!1,type:"primary"},{default:a((()=>[n("购买课程")])),_:1})),3!==o.value.course_status||I($)&&1!=o.value.is_buy_btn?d("v-if",!0):(e(),t(V,{key:2,onClick:xe,class:"ml-[20rpx] flex-1",ripple:!0,shape:"circle","hair-line":!1,type:"primary"},{default:a((()=>[n("去学习")])),_:1})),I($)&&2==o.value.is_buy_btn?(e(),t(V,{key:3,class:"ml-[20rpx] flex-1",ripple:!0,shape:"circle","hair-line":!1,type:"gary",disabled:""},{default:a((()=>[n(c(o.value.is_buy_btn_desc),1)])),_:1})):d("v-if",!0)])),_:1})])),_:1}),d(" Footer End ")])),_:1},512),[[E,x.value]]),d(" empty Start "),R(l(k,{class:"empty"},{default:a((()=>[l(S,{text:"抱歉，该课程不存在~",src:"/static/images/empty/collection.png","icon-size":300,color:"#888888"},{bottom:a((()=>[l(k,{class:"empty-bottom"},{default:a((()=>[l(V,{onClick:_e,shape:"circle",ripple:!0,"hair-line":!1,type:"primary"},{default:a((()=>[n(" 去看看其它")])),_:1})])),_:1})])),_:1},8,["src"])])),_:1},512),[[E,!x.value]]),d(" empty End "),d(" 课件下载弹窗 Start "),l(P,{modelValue:v.value,"onUpdate:modelValue":h[1]||(h[1]=e=>v.value=e),mode:"center",closeable:"",bgColor:"none","close-icon-color":"#FFFFFF"},{default:a((()=>[o.value.meterial?(e(),t(k,{key:0,class:"download-container"},{default:a((()=>[l(k,{class:"download-header"},{default:a((()=>[l(k,{class:"p-[30rpx] text-white text-lg font-normal"},{default:a((()=>[n("课件下载")])),_:1}),l(j,{src:"/mobile/static/images/icon_download.png",class:"mt-[60rpx]"})])),_:1}),l(k,{class:"download-main bg-white"},{default:a((()=>[l(k,{class:"download-main--link flex col-start pt-[40rpx]"},{default:a((()=>[l(C,null,{default:a((()=>[n("链接：")])),_:1}),l(k,{class:"line-4"},{default:a((()=>[n(c(o.value.meterial.link),1)])),_:1})])),_:1}),l(k,{class:"mt-[30rpx]"},{default:a((()=>[n("密码："+c(o.value.meterial.code),1)])),_:1}),l(k,{class:"copy-btn"},{default:a((()=>[l(V,{onClick:pe,plain:!0,shape:"circle",type:"primary"},{default:a((()=>[n("一键复制")])),_:1})])),_:1})])),_:1})])),_:1})):d("v-if",!0)])),_:1},8,["modelValue"]),d(" 课件下载弹窗 End "),d(" 加入课程弹窗 Start "),l(P,{modelValue:F.value,"onUpdate:modelValue":h[3]||(h[3]=e=>F.value=e),mode:"center",borderRadius:"14","mask-close-able":!1},{default:a((()=>[l(k,{class:"course-pop text-center"},{default:a((()=>[l(k,{class:"text-2xl font-medium normal"},{default:a((()=>[n("添加成功")])),_:1}),l(k,{class:"text-lg normal mt-[16rpx] pb-[20rpx]"},{default:a((()=>[n(" 可在【我的课程】进行查看 ")])),_:1}),l(k,{class:"m-t-60"},{default:a((()=>[l(V,{onClick:h[2]||(h[2]=e=>F.value=!1),ripple:!0,shape:"circle","hair-line":!1,type:"primary"},{default:a((()=>[n("好的，我知道了")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),d(" 加入课程弹窗 End "),d(" 购买课程弹窗 Start "),l(P,{modelValue:W.value,"onUpdate:modelValue":h[5]||(h[5]=e=>W.value=e),mode:"center",borderRadius:"14","mask-close-able":!1},{default:a((()=>[l(k,{class:"course-pop text-center"},{default:a((()=>[l(k,{class:"font-lg font-medium normal pt-[45px] pb-[40px]"},{default:a((()=>[n("抱歉，您还未购买过该课程")])),_:1}),l(k,{class:"flex justify-between mt-[60rpx]"},{default:a((()=>[l(V,{onClick:be,class:"flex-1",ripple:!0,shape:"circle","hair-line":!1,type:"primary"},{default:a((()=>[n("去购买")])),_:1}),l(V,{onClick:h[4]||(h[4]=e=>W.value=!1),class:"flex-1 m-l-30",ripple:!0,shape:"circle","hair-line":!1,type:"gary"},{default:a((()=>[n("取消")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),d(" 购买课程弹窗 End "),d(" 骨架屏 "),R(l(ue,null,null,512),[[E,T.value]])],64)}}}),[["__scopeId","data-v-27715a06"]]);export{pe as default};

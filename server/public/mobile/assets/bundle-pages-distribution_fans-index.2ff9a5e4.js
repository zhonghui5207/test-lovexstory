import{_ as e}from"./u-search.b8555d94.js";import{d as a,s as t,o as l,c as s,w as r,e as u,f as o,b as n,F as d,j as i,v as c,ae as p,r as _,a as f,k as m,t as x,a2 as y,bK as b,D as v}from"./index.0909ac6c.js";import{t as h,a as g}from"./tabs.b16c84eb.js";import{_ as k}from"./z-paging.1a5d6e51.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-icon.0b85921a.js";import"./u-badge.2b611478.js";import"./u-sticky.c3d66a2b.js";import"./useTouch.93885aba.js";const j=a({__name:"index",props:{list:{type:Object,default:[]}},emits:["changeSort"],setup(e,{emit:a}){const c=t(),p=async e=>{a("changeSort",e)},_=e=>{c.value.forEach(((a,t)=>{e!=t&&a.initStatus()}))};return(a,t)=>{const f=i;return l(),s(f,{class:"flex justify-between py-[20rpx] bg-white"},{default:r((()=>[(l(!0),u(d,null,o(e.list,((e,a)=>(l(),s(f,{key:a,class:"flex-1"},{default:r((()=>[n(e,{index:a,ref_for:!0,ref_key:"itemRef",ref:c,onChangeSort:p,"item-data":e,onBeforeChange:_},null,8,["index","item-data"])])),_:2},1024)))),128))])),_:1})}}});var S=w(a({__name:"fans_lists",props:{type:{type:String,default:""},keyWord:{type:String,default:""},index:{type:Number,default:0},i:{type:Number,default:0}},setup(e){const a=e,t=c({type:a.type,keyword:"",order_amount_sort:"",order_num_sort:"",fans_sort:""}),h=c([{label:"团队排序",name:"team_"},{label:"金额排序",name:"order_"},{label:"订单排序",name:"num_"}]),g=c(null),w=c([]),S=e=>{switch(t.value.fans_sort="",t.value.order_num_sort="",t.value.order_amount_sort="",e.split("_")[0]){case"team":t.value.fans_sort=e.split("_")[1];break;case"order":t.value.order_amount_sort=e.split("_")[1];break;case"num":t.value.order_num_sort=e.split("_")[1]}g.value.reload()},C=async(e,a)=>{try{const{lists:l}=await b({pageNo:e,pageSize:a,...t.value});g.value.complete(l)}catch(l){g.value.complete(!1)}};return p((()=>a.keyWord),(async()=>{a.index==a.i&&(t.value.keyword=a.keyWord,g.value.reload())}),{immediate:!1}),p((()=>a.index),(async()=>{a.index==a.i&&g.value.reload()}),{immediate:!1}),(a,t)=>{const c=i,p=v,b=_(f("z-paging"),k);return l(),s(b,{ref_key:"paging",ref:g,modelValue:w.value,"onUpdate:modelValue":t[0]||(t[0]=e=>w.value=e),onQuery:C,fixed:!1,height:"100%",auto:e.i==e.index,"data-key":e.i,"auto-show-back-to-top":"","auto-clean-list-when-reload":!1,"auto-scroll-to-top-when-reload":!1},{default:r((()=>[n(c,null,{default:r((()=>[n(j,{onChangeSort:S,list:h.value},null,8,["list"])])),_:1}),n(c,{class:"px-[20rpx] bg-white"},{default:r((()=>[(l(!0),u(d,null,o(w.value,((e,a)=>(l(),s(c,{key:a,class:"py-[20rpx] flex itemUser"},{default:r((()=>[n(p,{src:e.avatar,class:"w-[100rpx] h-[100rpx] rounded-full"},null,8,["src"]),n(c,{class:"felx flex-col justify-between ml-[10rpx]"},{default:r((()=>[n(c,{class:"text-xl"},{default:r((()=>[m(x(e.nickname)+"("+x(e.account)+")",1)])),_:2},1024),n(c,{class:"text-xs text-[#9CABFF]"},{default:r((()=>[m(x(e.mobile||"-"),1)])),_:2},1024),n(c,{class:"text-xs text-[#666666]"},{default:r((()=>[m("关注时间："+x(e.create_time),1)])),_:2},1024)])),_:2},1024),n(c,{class:"flex flex-col justify-between text-xs flex-1 items-end"},{default:r((()=>[n(c,null,{default:r((()=>[y("span",{class:"text-[#FF2C3C]"},x(e.fans),1),y("span",null,"人")])),_:2},1024),n(c,null,{default:r((()=>[m(x(e.order_num)+"笔",1)])),_:2},1024),n(c,null,{default:r((()=>[m(x(e.order_amount)+"元",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue","auto","data-key"])}}}),[["__scopeId","data-v-02cb4d7e"]]);var C=w(a({__name:"index",setup(a){const t=c(0),p=c(""),m=c([{label:"全部粉丝",type:"all"},{label:"一级粉丝",type:"first"},{label:"二级粉丝",type:"second"}]),x=e=>{t.value=e};return(a,c)=>{const y=_(f("u-search"),e),b=i,v=_(f("tab"),h),k=_(f("tabs"),g);return l(),u("div",null,[n(b,{class:"px-[30rpx] py-[20rpx] bg-white"},{default:r((()=>[n(y,{modelValue:p.value,"onUpdate:modelValue":c[0]||(c[0]=e=>p.value=e),placeholder:"请输入用户账号/昵称"},null,8,["modelValue"])])),_:1}),n(b,null,{default:r((()=>[n(k,{current:t.value,isScroll:!1,onChange:x},{default:r((()=>[(l(!0),u(d,null,o(m.value,((e,a)=>(l(),s(v,{key:a,name:e.label},{default:r((()=>[n(b,{class:"fansList"},{default:r((()=>[n(S,{keyWord:p.value,type:e.type,index:t.value,i:a},null,8,["keyWord","type","index","i"])])),_:2},1024)])),_:2},1032,["name"])))),128))])),_:1},8,["current"])])),_:1})])}}}),[["__scopeId","data-v-02a90bfe"]]);export{C as default};

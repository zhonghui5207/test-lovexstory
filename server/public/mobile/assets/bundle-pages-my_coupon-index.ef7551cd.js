import{d as a,v as e,ag as s,o as l,c as o,w as t,b as n,e as u,f as c,F as r,b0 as i,j as p,r as d,a as m}from"./index.0909ac6c.js";import{_ as v}from"./z-paging.1a5d6e51.js";import{a as f,t as b}from"./tabs.b16c84eb.js";import{c as g}from"./index.2c7f59b4.js";import{e as y}from"./coupon.c29ff76c.js";import{_}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-badge.2b611478.js";import"./u-sticky.c3d66a2b.js";import"./useTouch.93885aba.js";import"./u-icon.0b85921a.js";import"./index.5b25a2dc.js";var j=(a=>(a[a.normal=0]="normal",a[a.use=1]="use",a[a.invalid=2]="invalid",a))(j||{});var x=_(a({__name:"index",setup(a){const _=e([]),x=e(1),h=e(null),k=e({normal:{name:"可使用",count:0,type:1},use:{name:"已使用",count:0,type:2},invalid:{name:"已过期",count:0,type:3}}),w=async a=>{x.value=k.value[j[a]].type,await i(),h.value.reload()},V=async(a,e)=>{try{const{lists:s,extend:l}=await y({page_no:a,page_size:e,status:x.value});Object.keys(l).map((a=>{k.value[a].count=l[a]})),console.log(s),h.value.complete(s)}catch(s){h.value.complete(!1)}};return s((()=>{})),(a,e)=>{const s=p,i=d(m("z-paging"),v);return l(),o(s,null,{default:t((()=>[n(f,{"is-scroll":!1,onChange:w},{default:t((()=>[(l(!0),u(r,null,c(k.value,((a,e,s)=>(l(),o(b,{key:s,name:`${a.name}(${a.count})`},null,8,["name"])))),128))])),_:1}),n(s,{class:"scrollView"},{default:t((()=>[n(i,{ref_key:"paging",ref:h,modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=a=>_.value=a),onQuery:V,height:"100%",fixed:!1},{default:t((()=>[(l(!0),u(r,null,c(_.value,((a,e)=>(l(),o(s,{class:"px-[30rpx] my-[15rpx]",key:e},{default:t((()=>[n(g,{type:1,"coupon-data":a,disabled:1!=x.value,isPageMC:!0},null,8,["coupon-data","disabled"])])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-0c2b053c"]]);export{x as default};

import{a0 as e,d as t,r as s,a,o as n,c as r,w as l,b as i,k as o,t as c,B as u,g as d,h as p,m,j as f,a1 as g,u as x,e as y,a2 as _,F as v,f as b,n as k,S as w,i as h,D as j,a3 as I,a4 as O,a5 as C,x as L,A as U}from"./index.0909ac6c.js";import{_ as z}from"./u-avatar.f47688c7.js";import{_ as S}from"./u-icon.0b85921a.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as F}from"./u-image.879031a5.js";import{_ as N}from"./tabbar.ca9716f8.js";import{a as P}from"./shop.005defa8.js";import"./u-badge.2b611478.js";var A=B(t({__name:"user-info",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})},isLogin:{type:Boolean}},setup(t){const{copy:x}={copy:t=>{e({data:String(t)})}};return(e,y)=>{const _=s(a("u-avatar"),z),v=f,b=g,k=s(a("u-icon"),S);return n(),r(v,{class:"user-info flex px-[50rpx] justify-between py-[50rpx]"},{default:l((()=>[t.isLogin?(n(),r(v,{key:0,class:"flex items-center",onClick:y[1]||(y[1]=e=>{m({url:"/pages/user_data/user_data"})})},{default:l((()=>[i(_,{src:t.user.avatar,size:120},null,8,["src"]),i(v,{class:"text-black ml-[20rpx]"},{default:l((()=>[i(v,{class:"text-2xl"},{default:l((()=>[o(c(t.user.nickname),1)])),_:1}),i(v,{class:"text-xs mt-[18rpx]",onClick:y[0]||(y[0]=u((e=>d(x)(t.user.sn)),["stop"]))},{default:l((()=>[o(" 学号："+c(t.user.sn),1)])),_:1})])),_:1})])),_:1})):(n(),r(b,{key:1,class:"flex items-center","hover-class":"none",url:"/pages/login/login"},{default:l((()=>[i(_,{src:"/static/images/user/default_avatar.png",size:120}),i(v,{class:"text-black text-3xl ml-[20rpx]"},{default:l((()=>[o("未登录")])),_:1})])),_:1})),t.isLogin?(n(),r(b,{key:2,"hover-class":"none",url:"/pages/user_set/user_set"},{default:l((()=>[i(k,{name:"setting",color:"#434343",size:48})])),_:1})):p("v-if",!0)])),_:1})}}}),[["__scopeId","data-v-ac2983b8"]]);const D=t({__name:"my-service",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:t}=x(),r=e=>{k(e)};return(l,o)=>{const u=s(a("u-image"),F),m=s(a("u-icon"),S);return n(),y("div",{class:"my-service bg-white mx-[20rpx] mt-[20rpx] rounded-lg"},[e.content.showTitle?(n(),y("div",{key:0,class:"title px-[30rpx] py-[20rpx] font-medium text-xl border-light border-solid border-0 border-b"},[_("div",null,c(e.content.title),1)])):p("v-if",!0),1==e.content.style?(n(),y("div",{key:1,class:"flex flex-wrap pt-[40rpx] pb-[20rpx]"},[(n(!0),y(v,null,b(e.content.data,((e,s)=>(n(),y("div",{key:s,class:"flex flex-col items-center w-1/4 mb-[15px]",onClick:t=>r(e.link)},[i(u,{width:"52",height:"52",src:d(t)(e.image),alt:""},null,8,["src"]),_("div",{class:"mt-[7px]"},c(e.name),1)],8,["onClick"])))),128))])):p("v-if",!0),2==e.content.style?(n(),y("div",{key:2},[(n(!0),y(v,null,b(e.content.data,((e,s)=>(n(),y("div",{key:s,class:"flex items-center border-light border-solid border-0 border-b h-[100rpx] px-[24rpx]",onClick:t=>r(e.link)},[i(u,{width:"48",height:"48",src:d(t)(e.image),alt:""},null,8,["src"]),_("div",{class:"ml-[20rpx] flex-1"},c(e.name),1),_("div",{class:"text-muted"},[i(m,{name:"arrow-right"})])],8,["onClick"])))),128))])):p("v-if",!0)])}}}),J=t({__name:"user-banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:t}=x();return(o,c)=>{const u=s(a("u-image"),F),m=w,g=h,x=f;return e.content.data.length&&e.content.enabled?(n(),r(x,{key:0,class:"banner h-[200rpx] mx-[20rpx] mt-[20rpx] translate-y-0"},{default:l((()=>[i(g,{class:"swiper h-full","indicator-dots":e.content.data.length>1,"indicator-active-color":"#4173ff",autoplay:!0},{default:l((()=>[(n(!0),y(v,null,b(e.content.data,((e,s)=>(n(),r(m,{key:s,onClick:t=>{return s=e.link,void k(s);var s}},{default:l((()=>[i(u,{mode:"aspectFit",width:"100%",height:"100%",src:d(t)(e.image),"border-radius":14},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["indicator-dots"])])),_:1})):p("v-if",!0)}}});var T=B(t({__name:"index",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const t=x();return(s,a)=>{const u=j,m=f,x=g;return e.content.enabled?(n(),r(m,{key:0,class:"user bg-white mx-[20rpx] mt-[20rpx] rounded-lg"},{default:l((()=>[i(m,{class:"order-info card"},{default:l((()=>[i(m,{class:"order-info--main flex row-around"},{default:l((()=>[(n(!0),y(v,null,b(e.content.data,((e,s)=>(n(),r(m,{class:"order-menu-item",key:s},{default:l((()=>[i(x,{"hover-class":"none",url:e.link},{default:l((()=>[p(' <text class="badge" v-if="userInfo?.wait_pay_num">{{\n                            userInfo?.wait_pay_num\n                        }}</text> '),i(u,{src:d(t).getImageUrl(e.image)},null,8,["src"]),i(m,{class:"order-menu-item--text"},{default:l((()=>[o(c(e.name),1)])),_:2},1024),i(m,{class:"second-title"},{default:l((()=>[o(c(e.secName),1)])),_:2},1024)])),_:2},1032,["url"])])),_:2},1024)))),128)),p(' <view class="order-menu-item" @click="goPage(\'/bundle/pages/order_list/index\')">\n                    <text class="badge" v-if="userInfo?.appoint_num">{{\n                        userInfo?.appoint_num\n                    }}</text>\n                    <image src="../../static/images/icon_order.png"></image>\n                    <view class="order-menu-item--text"> 我的订单 </view>\n                    <view class="second-title">查看全部订单</view>\n                </view>\n                <view class="order-menu-item" @click="goPage(\'/bundle/pages/user_wallet/index\')">\n                    <text class="badge" v-if="userInfo?.service_num">{{\n                        userInfo?.service_num\n                    }}</text>\n                    <image src="../../static/images/icon_wallet.png"></image>\n                    <view class="order-menu-item--text"> 钱包余额 </view>\n                    <view class="second-title">充值有优惠</view>\n                </view> ')])),_:1})])),_:1})])),_:1})):p("v-if",!0)}}}),[["__scopeId","data-v-c26b7a0e"]]);const q=t({__name:"user",setup(e){const t=I({pages:[]}),o=O(),{userInfo:c,isLogin:u}=C(o);return L((()=>{o.isLogin&&o.getUser()})),(async()=>{const e=await P({id:2});t.pages=JSON.parse(e.data),console.log(t.pages)})(),(e,o)=>{const m=s(a("w-user-info"),A),g=s(a("w-my-service"),D),x=s(a("w-user-banner"),J),_=f,k=s(a("tabbar"),N);return n(),r(_,{class:"user"},{default:l((()=>[(n(!0),y(v,null,b(t.pages,((e,t)=>(n(),r(_,{key:t},{default:l((()=>["user-info"==e.name?(n(),r(m,{key:0,content:e.content,styles:e.styles,user:d(c),"is-login":d(u)},null,8,["content","styles","user","is-login"])):p("v-if",!0),"top-icon"==e.name?(n(),r(T,{key:1,content:e.content,style:U(e.styles)},null,8,["content","style"])):p("v-if",!0),"my-service"==e.name?(n(),r(g,{key:2,content:e.content,styles:e.styles},null,8,["content","styles"])):p("v-if",!0),"user-banner"==e.name?(n(),r(x,{key:3,content:e.content,styles:e.styles},null,8,["content","styles"])):p("v-if",!0)])),_:2},1024)))),128)),i(k)])),_:1})}}});export{q as default};

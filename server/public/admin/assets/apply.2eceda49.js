import{R as O,B as S,C as z,w as H,D as Q,H as W,x as X,y as Y,b as G,U as J,M as K,N as Z,L as ee,O as te}from"./element-plus.46c04e86.js";import{_ as le}from"./index.vue_vue_type_script_setup_true_lang.9b41a941.js";import{_ as ae}from"./index.vue_vue_type_script_setup_true_lang.560e5a8f.js";import{u as ue}from"./usePaging.92ba177b.js";import{a as oe}from"./distributor.a87a429c.js";import se from"./applyPop.a829678b.js";import{d as ne,r as D,s as ie,j as re,aq as me,o as i,c as de,X as t,P as l,u as s,a,Q as B,O as d,W as p,V as r,U as _,k as pe,Y as _e,n as V}from"./@vue.6265a5d9.js";import"./@vueuse.66625460.js";import"./@element-plus.84bb5020.js";import"./lodash-es.bb7dceda.js";import"./dayjs.f16af943.js";import"./axios.0f2860ff.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.9967fbd7.js";import"./lodash.9848f74d.js";import"./vue-router.be7d85e4.js";import"./pinia.d91ee8f0.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.3e9ac15b.js";import"./color.a065fa6b.js";import"./clone.f258b259.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.29279dd9.js";import"./ms.a9ae1d6d.js";import"./nprogress.423ae918.js";import"./vue-clipboard3.ae536e99.js";import"./clipboard.6f2755f0.js";import"./echarts.8d7a50ae.js";import"./zrender.1084fa23.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.3fa8b4f2.js";import"./index.ef2d2188.js";const ce=r("\u67E5\u8BE2"),fe=r("\u91CD\u7F6E"),Fe={class:"flex items-center mt-1"},ve=a("div",{class:"ml-2"},"\u5934\u50CF\uFF1A",-1),be={class:"flex items-center mt-1"},Be=a("div",{class:"ml-2"},"\u6635\u79F0\uFF1A",-1),Ee={class:"flex items-center mt-1"},he=a("div",{class:"ml-2"},"\u7F16\u53F7\uFF1A",-1),ye={class:"flex items-center"},ge={class:"ml-2"},Ce=r("\u8BE6\u60C5"),ke=r("\u5BA1\u6838"),Ae={class:"flex justify-end mt-4"},ct=ne({__name:"apply",setup(xe){const o=D({user_info:"",leader_info:"",start_time:"",end_time:"",status:""}),E=D(!1),h=ie(),{pager:n,getLists:c,resetPage:w,resetParams:T}=ue({fetchFun:oe,params:o.value}),y=async(g,u)=>{E.value=!0,await V(),h.value.open({id:g,type:u})},P=async()=>{await V(),c()};return re(()=>{c()}),(g,u)=>{const U=O,C=S,f=z,$=ae,F=H,R=Q,k=W,v=X,I=Y,A=G,N=J,m=K,b=Z,L=ee,j=le,x=me("perms"),q=te;return i(),de(_e,null,[t(k,{class:"!border-none",shadow:"never"},{default:l(()=>[t(U,{type:"warning",title:"\u7528\u6237\u7533\u8BF7\u5BA1\u6838\u901A\u8FC7\u5373\u53EF\u6210\u4E3A\u5206\u9500\u4F1A\u5458\uFF1B\u5BA1\u6838\u62D2\u7EDD\u540E\u53EF\u518D\u6B21\u53D1\u8D77\u7533\u8BF7\uFF01",closable:!1,"show-icon":""}),t(R,{ref:"formRef",class:"mb-[-16px] mt-4",model:o.value,inline:!0},{default:l(()=>[t(f,{label:"\u7528\u6237\u4FE1\u606F"},{default:l(()=>[t(C,{class:"w-[280px]",modelValue:o.value.user_info,"onUpdate:modelValue":u[0]||(u[0]=e=>o.value.user_info=e),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237ID/\u6635\u79F0/\u624B\u673A\u53F7\u7801",clearable:""},null,8,["modelValue"])]),_:1}),t(f,{label:"\u9080\u8BF7\u4EBA"},{default:l(()=>[t(C,{class:"w-[280px]",modelValue:o.value.leader_info,"onUpdate:modelValue":u[1]||(u[1]=e=>o.value.leader_info=e),placeholder:"\u8BF7\u8F93\u5165\u9080\u8BF7\u4EBAID/\u6635\u79F0/\u624B\u673A\u53F7\u7801",clearable:""},null,8,["modelValue"])]),_:1}),t(f,{label:"\u7533\u8BF7\u65F6\u95F4"},{default:l(()=>[t($,{startTime:o.value.start_time,"onUpdate:startTime":u[2]||(u[2]=e=>o.value.start_time=e),endTime:o.value.end_time,"onUpdate:endTime":u[3]||(u[3]=e=>o.value.end_time=e)},null,8,["startTime","endTime"])]),_:1}),t(f,null,{default:l(()=>[t(F,{type:"primary",onClick:s(w)},{default:l(()=>[ce]),_:1},8,["onClick"]),t(F,{onClick:s(T)},{default:l(()=>[fe]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),t(k,{class:"!border-none mt-4",shadow:"never"},{default:l(()=>[t(I,{modelValue:o.value.status,"onUpdate:modelValue":u[4]||(u[4]=e=>o.value.status=e),onTabChange:P},{default:l(()=>[t(v,{label:`\u5168\u90E8(${s(n).extend.all||0})`,name:""},null,8,["label"]),t(v,{label:`\u5F85\u5BA1\u6838(${s(n).extend.wait||0})`,name:"0"},null,8,["label"]),t(v,{label:`\u5BA1\u6838\u901A\u8FC7(${s(n).extend.pass||0})`,name:"1"},null,8,["label"]),t(v,{label:`\u5BA1\u6838\u62D2\u7EDD(${s(n).extend.refuse||0})`,name:"2"},null,8,["label"])]),_:1},8,["modelValue"]),a("div",null,[B((i(),d(L,{ref:"tableRef",size:"large",data:s(n).lists,class:"mt-4"},{default:l(()=>[t(m,{label:"\u7528\u6237\u4FE1\u606F","min-width":"230"},{default:l(({row:e})=>[t(N,{placement:"top-start",width:200,trigger:"hover"},{reference:l(()=>[a("div",ye,[t(A,{class:"w-[47px] h-[47px]",src:e.avatar},null,8,["src"]),a("div",ge,p(e.nickname),1)])]),default:l(()=>[a("div",null,[a("div",Fe,[ve,t(A,{class:"w-[47px] h-[47px] rounded-full overflow-hidden",src:e.avatar},null,8,["src"])])]),a("div",null,[a("div",be,[Be,a("div",null,p(e.nickname),1)])]),a("div",null,[a("div",Ee,[he,a("div",null,p(e.id),1)])])]),_:2},1024)]),_:1}),t(m,{label:"\u771F\u5B9E\u59D3\u540D",prop:"real_name","min-width":"180"}),t(m,{label:"\u624B\u673A\u53F7\u7801",prop:"mobile","min-width":"180"}),t(m,{label:"\u4E0A\u7EA7\u9080\u8BF7\u4EBA",prop:"first_leader_name","min-width":"180"},{default:l(({row:e})=>[r(p(e.first_leader_name||"-"),1)]),_:1}),t(m,{label:"\u5BA1\u6838\u72B6\u6001",prop:"status","min-width":"180"},{default:l(({row:e})=>[e.status==1?(i(),d(b,{key:0,type:"success"},{default:l(()=>[r(p(e.status_desc||"-"),1)]),_:2},1024)):_("",!0),e.status==0?(i(),d(b,{key:1,type:"warning"},{default:l(()=>[r(p(e.status_desc||"-"),1)]),_:2},1024)):_("",!0),e.status==2?(i(),d(b,{key:2,type:"danger"},{default:l(()=>[r(p(e.status_desc||"-"),1)]),_:2},1024)):_("",!0)]),_:1}),t(m,{label:"\u7533\u8BF7\u65F6\u95F4",prop:"create_time","min-width":"180"}),t(m,{label:"\u64CD\u4F5C","min-width":"180"},{default:l(({row:e})=>[a("div",null,[B((i(),d(F,{type:"primary",onClick:M=>y(e.id,1),link:""},{default:l(()=>[Ce]),_:2},1032,["onClick"])),[[x,["distributor.apply/detail"]]]),e.status==0?B((i(),d(F,{key:0,type:"primary",link:"",onClick:M=>y(e.id,2)},{default:l(()=>[ke]),_:2},1032,["onClick"])),[[x,["distributor.apply/examine"]]]):_("",!0)])]),_:1})]),_:1},8,["data"])),[[q,s(n).loading]]),a("div",Ae,[t(j,{modelValue:s(n),"onUpdate:modelValue":u[5]||(u[5]=e=>pe(n)?n.value=e:null),onChange:s(c)},null,8,["modelValue","onChange"])])])]),_:1}),E.value?(i(),d(se,{key:0,onClose:s(c),ref_key:"popRef",ref:h},null,8,["onClose"])):_("",!0)],64)}}});export{ct as default};

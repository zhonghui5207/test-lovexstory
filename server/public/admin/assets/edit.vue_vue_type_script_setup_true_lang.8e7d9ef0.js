import{t as V,B as b,C as D,D as x}from"./element-plus.46c04e86.js";import{r as C,a as y}from"./role.98608449.js";import{P as B}from"./index.ef2d2188.js";import{d as R,s as i,r as h,e as k,a1 as g,o as I,c as P,X as l,P as u,u as U}from"./@vue.6265a5d9.js";const N={class:"edit-popup"},G=R({__name:"edit",emits:["success","close"],setup(q,{expose:c,emit:m}){const d=i(),s=i(),n=h("add"),f=k(()=>n.value=="edit"?"\u7F16\u8F91\u89D2\u8272":"\u65B0\u589E\u89D2\u8272"),o=g({id:"",name:"",desc:"",sort:0,menu_id:[]}),_={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}]},F=async()=>{var t,e;await((t=d.value)==null?void 0:t.validate()),n.value=="edit"?await C(o):await y(o),(e=s.value)==null||e.close(),m("success")},w=()=>{m("close")};return c({open:(t="add")=>{var e;n.value=t,(e=s.value)==null||e.open()},setFormData:async t=>{for(const e in o)t[e]!=null&&t[e]!=null&&(o[e]=t[e])}}),(t,e)=>{const p=b,r=D,v=V,E=x;return I(),P("div",N,[l(B,{ref_key:"popupRef",ref:s,title:U(f),async:!0,width:"550px",onConfirm:F,onClose:w},{default:u(()=>[l(E,{class:"ls-form",ref_key:"formRef",ref:d,rules:_,model:o,"label-width":"60px"},{default:u(()=>[l(r,{label:"\u540D\u79F0",prop:"name"},{default:u(()=>[l(p,{class:"ls-input",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),l(r,{label:"\u5907\u6CE8",prop:"desc"},{default:u(()=>[l(p,{modelValue:o.desc,"onUpdate:modelValue":e[1]||(e[1]=a=>o.desc=a),type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(r,{label:"\u6392\u5E8F",prop:"sort"},{default:u(()=>[l(v,{modelValue:o.sort,"onUpdate:modelValue":e[2]||(e[2]=a=>o.sort=a),min:0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{G as _};

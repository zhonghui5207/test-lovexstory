import{B as T,C as U,S as y,T as A,w as P,D as I,H as L,b as N,U as O,M as S,L as $,O as j}from"./element-plus.46c04e86.js";import{_ as M}from"./index.vue_vue_type_script_setup_true_lang.9b41a941.js";import{_ as R}from"./index.vue_vue_type_script_setup_true_lang.560e5a8f.js";import{u as q}from"./usePaging.92ba177b.js";import{c as z}from"./distribution.fb8edf39.js";import{d as H,r as Q,j as W,af as X,o as E,c as G,X as e,P as u,u as s,Q as J,O as K,a,W as i,V as c,k as Y}from"./@vue.6265a5d9.js";import"./@vueuse.66625460.js";import"./@element-plus.84bb5020.js";import"./lodash-es.bb7dceda.js";import"./dayjs.f16af943.js";import"./axios.0f2860ff.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.9967fbd7.js";import"./lodash.9848f74d.js";import"./vue-router.be7d85e4.js";import"./pinia.d91ee8f0.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.3e9ac15b.js";import"./color.a065fa6b.js";import"./clone.f258b259.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.29279dd9.js";import"./ms.a9ae1d6d.js";import"./nprogress.423ae918.js";import"./vue-clipboard3.ae536e99.js";import"./clipboard.6f2755f0.js";import"./echarts.8d7a50ae.js";import"./zrender.1084fa23.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.3fa8b4f2.js";const Z=c("\u67E5\u8BE2"),ee=c("\u91CD\u7F6E"),le={class:"flex items-center"},ue={class:"ml-2 truncate"},te={class:"flex justify-end mt-4"},ze=H({__name:"order",setup(oe){const t=Q({order_sn:"",user_info:"",distributor_info:"",course_info:"",status:"",start_time:"",end_time:""}),{pager:m,getLists:f,resetPage:B,resetParams:D}=q({fetchFun:z,params:t.value});return W(()=>{f()}),(ae,o)=>{const d=T,r=U,p=y,V=A,g=R,_=P,F=I,v=L,b=N,w=O,n=S,x=X("router-link"),C=$,h=M,k=j;return E(),G("div",null,[e(v,{class:"!border-none",shadow:"never"},{default:u(()=>[e(F,{ref:"formRef",class:"mb-[-16px] mt-4",model:t.value,inline:!0},{default:u(()=>[e(r,{label:"\u8BA2\u5355\u7F16\u53F7"},{default:u(()=>[e(d,{class:"w-[280px]",modelValue:t.value.order_sn,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value.order_sn=l),placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u7F16\u53F7",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{label:"\u5546\u54C1\u641C\u7D22"},{default:u(()=>[e(d,{class:"w-[280px]",modelValue:t.value.course_info,"onUpdate:modelValue":o[1]||(o[1]=l=>t.value.course_info=l),placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{label:"\u4E70\u5BB6\u4FE1\u606F"},{default:u(()=>[e(d,{class:"w-[280px]",modelValue:t.value.user_info,"onUpdate:modelValue":o[2]||(o[2]=l=>t.value.user_info=l),placeholder:"\u8BF7\u8F93\u5165\u4E70\u5BB6\u4FE1\u606F",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{label:"\u5206\u9500\u5546"},{default:u(()=>[e(d,{class:"w-[280px]",modelValue:t.value.distributor_info,"onUpdate:modelValue":o[3]||(o[3]=l=>t.value.distributor_info=l),placeholder:"\u8BF7\u8F93\u5165\u5206\u9500\u5546\u4FE1\u606F",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{label:"\u4F63\u91D1\u72B6\u6001"},{default:u(()=>[e(V,{class:"w-[280px]",modelValue:t.value.status,"onUpdate:modelValue":o[4]||(o[4]=l=>t.value.status=l)},{default:u(()=>[e(p,{label:"\u5168\u90E8",value:""}),e(p,{label:"\u5F85\u7ED3\u7B97",value:1}),e(p,{label:"\u5DF2\u7ED3\u7B97",value:2}),e(p,{label:"\u5DF2\u5931\u6548",value:3})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"\u4E0B\u5355\u65F6\u95F4"},{default:u(()=>[e(g,{startTime:t.value.start_time,"onUpdate:startTime":o[5]||(o[5]=l=>t.value.start_time=l),endTime:t.value.end_time,"onUpdate:endTime":o[6]||(o[6]=l=>t.value.end_time=l)},null,8,["startTime","endTime"])]),_:1}),e(r,null,{default:u(()=>[e(_,{type:"primary",onClick:s(B)},{default:u(()=>[Z]),_:1},8,["onClick"]),e(_,{onClick:s(D)},{default:u(()=>[ee]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),e(v,{class:"!border-none mt-4",shadow:"never"},{default:u(()=>[J((E(),K(C,{size:"large",data:s(m).lists},{default:u(()=>[e(n,{label:"\u7528\u6237\u4FE1\u606F",prop:"sn","min-width":"180"},{default:u(({row:l})=>[a("div",null,[e(w,{placement:"top",trigger:"hover"},{reference:u(()=>[a("div",null,i(l.user_nickname),1)]),default:u(()=>[a("div",null,[e(F,null,{default:u(()=>[e(r,{label:"\u5934\u50CF"},{default:u(()=>[e(b,{class:"w-[44px] h-[44px] rounded-full",src:l.user_avatar},null,8,["src"])]),_:2},1024),e(r,{label:"\u6635\u79F0"},{default:u(()=>[a("view",null,i(l.user_nickname),1)]),_:2},1024),e(r,{label:"\u8D26\u53F7"},{default:u(()=>[a("view",null,i(l.user_account),1)]),_:2},1024)]),_:2},1024)])]),_:2},1024)])]),_:1}),e(n,{label:"\u8BA2\u5355\u7F16\u53F7",prop:"order_sn","min-width":"180"},{default:u(({row:l})=>[a("div",null,i(l.order_sn),1)]),_:1}),e(n,{label:"\u5546\u54C1\u4FE1\u606F","min-width":"230"},{default:u(({row:l})=>[a("div",le,[e(b,{class:"h-[64px] w-[64px] rounded flex-none",src:l.course_cover},null,8,["src"]),a("div",ue,i(l.course_name),1)])]),_:1}),e(n,{label:"\u5355\u4EF7/\u6570\u91CF","min-width":"120"},{default:u(({row:l})=>[a("div",null,"\xA5"+i(l.sell_price),1),a("div",null,"x"+i(l.course_num),1)]),_:1}),e(n,{label:"\u5B9E\u4ED8\u91D1\u989D","min-width":"120"},{default:u(({row:l})=>[a("div",null,"\xA5"+i(l.order_amount),1)]),_:1}),e(n,{label:"\u5F53\u524D\u5206\u9500\u7B49\u7EA7",prop:"commission_level","min-width":"120"}),e(n,{label:"\u5206\u9500\u5546\u4FE1\u606F","min-width":"150"},{default:u(({row:l})=>[e(x,{to:`/app/distribute/distributor/detail?id=${l.distributor_id}`},{default:u(()=>[e(_,{type:"primary",link:""},{default:u(()=>[c(i(l.distributor_nickname||"-"),1)]),_:2},1024)]),_:2},1032,["to"])]),_:1}),e(n,{label:"\u5F53\u524D\u4F63\u91D1\u6BD4\u4F8B\uFF08%\uFF09",prop:"ratio","min-width":"120"}),e(n,{label:"\u4F63\u91D1\u91D1\u989D",prop:"earnings","min-width":"120"}),e(n,{label:"\u4F63\u91D1\u72B6\u6001",prop:"status_desc","min-width":"120"}),e(n,{label:"\u7ED3\u7B97\u65F6\u95F4",prop:"settlement_time","min-width":"120"},{default:u(({row:l})=>[a("div",null,i(l.settlement_time||"-"),1)]),_:1}),e(n,{label:"\u4E0B\u5355\u65F6\u95F4",prop:"create_time","min-width":"120"})]),_:1},8,["data"])),[[k,s(m).loading]]),a("div",te,[e(h,{modelValue:s(m),"onUpdate:modelValue":o[7]||(o[7]=l=>Y(m)?m.value=l:null),onChange:s(f)},null,8,["modelValue","onChange"])])]),_:1})])}}});export{ze as default};

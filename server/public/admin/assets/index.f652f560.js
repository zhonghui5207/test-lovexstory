import{B as G,C as J,S as K,T as Z,w as tt,D as et,H as ot,x as at,y as nt,M as ut,N as st,c as lt,p as it,q as dt,r as mt,L as rt,O as ct}from"./element-plus.46c04e86.js";import{_ as pt}from"./index.vue_vue_type_script_setup_true_lang.9b41a941.js";import{d as _t,a1 as Et,r as ft,j as bt,af as kt,aq as Ct,o as n,c as V,X as t,P as e,$ as yt,Y as ht,a8 as Ft,a as f,u as c,Q as d,O as u,U as p,k as Bt,V as s}from"./@vue.6265a5d9.js";import{g as wt,p as gt,w as vt,d as Dt,n as qt}from"./manage.2a73fa98.js";import{u as Vt}from"./usePaging.92ba177b.js";import{e as B,f as w}from"./index.9967fbd7.js";import"./@vueuse.66625460.js";import"./@element-plus.84bb5020.js";import"./lodash-es.bb7dceda.js";import"./dayjs.f16af943.js";import"./axios.0f2860ff.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.9848f74d.js";import"./vue-router.be7d85e4.js";import"./pinia.d91ee8f0.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.3e9ac15b.js";import"./color.a065fa6b.js";import"./clone.f258b259.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.29279dd9.js";import"./ms.a9ae1d6d.js";import"./nprogress.423ae918.js";import"./vue-clipboard3.ae536e99.js";import"./clipboard.6f2755f0.js";import"./echarts.8d7a50ae.js";import"./zrender.1084fa23.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.3fa8b4f2.js";const xt=s("\u67E5\u8BE2"),Tt=s("\u91CD\u7F6E"),At=s("\u65B0\u589E\u9898\u5E93"),Lt={class:"mt-4"},Pt=s("\u5DF2\u4E0B\u67B6"),$t=s("\u8FDB\u884C\u4E2D"),Nt=s("\u672A\u5F00\u59CB"),Ut={class:"flex items-center"},It=s("\u7F16\u8F91"),Mt=s("\u9898\u76EE"),zt=s("\u5220\u9664"),Ot={class:"flex items-center text-primary ml-2"},St=s(" \u66F4\u591A "),jt=s("\u53D1\u5E03"),Qt=s("\u4E0B\u67B6"),Ht=s("\u5220\u9664"),Rt={class:"flex justify-end mr-2 mt-4"},Te=_t({__name:"index",setup(Wt){const i=Et({name:"",status:"",category_id:""}),g=ft([]),{pager:b,getLists:_,resetParams:x,resetPage:T}=Vt({fetchFun:wt,params:i}),A=()=>{B.push("/questionBank/edit")},L=a=>{B.push(`/questionBank/edit?id=${a}`)},P=a=>{switch(a.type){case"public":$(a.id);break;case"withdraw":N(a.id);break;case"del":v(a.id);break}},$=async a=>{await w.confirm("\u53D1\u5E03\u540E\u5C06\u4E0D\u80FD\u65B0\u589E/\u4FEE\u6539\u9898\u76EE\uFF0C\u662F\u5426\u786E\u8BA4\u53D1\u5E03\uFF1F"),await gt({id:a}),_()},N=async a=>{await w.confirm("\u4E0B\u67B6\u540E\u7528\u6237\u5C06\u65E0\u6CD5\u7B54\u9898\uFF0C\u662F\u5426\u786E\u8BA4\u4E0B\u67B6\uFF1F"),await vt({id:a}),_()},v=async a=>{await w.confirm("\u5220\u9664\u540E\u5C06\u65E0\u6CD5\u67E5\u770B\u9898\u5E93\uFF0C\u662F\u5426\u786E\u8BA4\u5220\u9664\uFF1F"),await Dt({id:a}),_()},U=async()=>{g.value=await qt()},I=async a=>{B.push(`/questionBank/topic_list?id=${a}`)};return bt(async()=>{await _(),await U()}),(a,l)=>{const M=G,y=J,D=K,z=Z,E=tt,O=et,q=ot,k=at,S=nt,m=ut,h=st,j=kt("arrow-down"),Q=lt,F=it,H=dt,R=mt,W=rt,X=pt,r=Ct("perms"),Y=ct;return n(),V("div",null,[t(q,{shadow:"never",class:"!border-none"},{default:e(()=>[t(O,{class:"mb-[-16px]",model:i,"label-width":"80px",inline:"",onSubmit:l[2]||(l[2]=yt(()=>{},["prevent"]))},{default:e(()=>[t(y,{label:"\u9898\u5E93\u540D\u79F0"},{default:e(()=>[t(M,{class:"w-[270px]",modelValue:i.name,"onUpdate:modelValue":l[0]||(l[0]=o=>i.name=o),placeholder:"\u5206\u7C7B\u540D\u79F0"},null,8,["modelValue"])]),_:1}),t(y,{label:"\u9898\u76EE\u5206\u7C7B"},{default:e(()=>[t(z,{class:"w-[270px]",modelValue:i.category_id,"onUpdate:modelValue":l[1]||(l[1]=o=>i.category_id=o)},{default:e(()=>[t(D,{label:"\u5168\u90E8",value:""}),(n(!0),V(ht,null,Ft(g.value,(o,C)=>(n(),u(D,{key:C,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(y,null,{default:e(()=>[f("div",null,[t(E,{type:"primary",onClick:c(T)},{default:e(()=>[xt]),_:1},8,["onClick"]),t(E,{onClick:c(x)},{default:e(()=>[Tt]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["model"])]),_:1}),t(q,{shadow:"never",class:"!border-none mt-4"},{default:e(()=>[t(S,{modelValue:i.status,"onUpdate:modelValue":l[3]||(l[3]=o=>i.status=o),class:"demo-tabs",onTabChange:c(_)},{default:e(()=>[t(k,{label:"\u5168\u90E8",name:""}),t(k,{label:"\u672A\u5F00\u59CB",name:"1"}),t(k,{label:"\u8FDB\u884C\u4E2D",name:"2"}),t(k,{label:"\u5DF2\u4E0B\u67B6",name:"3"})]),_:1},8,["modelValue","onTabChange"]),d((n(),u(E,{type:"primary",onClick:A},{default:e(()=>[At]),_:1})),[[r,["questionbank.questionbank/add"]]]),f("div",Lt,[d((n(),u(W,{data:c(b).lists,style:{width:"100%",height:"100%"}},{default:e(()=>[t(m,{property:"name",label:"\u9898\u5E93","min-width":"180"}),t(m,{property:"category_name",label:"\u9898\u5E93\u5206\u7C7B","min-width":"180"}),t(m,{property:"topic_num",label:"\u9898\u76EE\u6570\u91CF","min-width":"180"}),t(m,{property:"pay_amount",label:"\u4EF7\u683C","min-width":"180"}),t(m,{property:"course_num",label:"\u5173\u8054\u8BFE\u7A0B","min-width":"180"}),t(m,{label:"\u9898\u5E93\u72B6\u6001","min-width":"180"},{default:e(({row:o})=>[o.status==3?(n(),u(h,{key:0,class:"ml-2",type:"info"},{default:e(()=>[Pt]),_:1})):p("",!0),o.status==2?(n(),u(h,{key:1,class:"ml-2",type:"success"},{default:e(()=>[$t]),_:1})):p("",!0),o.status==1?(n(),u(h,{key:2,class:"ml-2",type:"danger"},{default:e(()=>[Nt]),_:1})):p("",!0)]),_:1}),t(m,{label:"\u64CD\u4F5C",fixed:"right","min-width":"230"},{default:e(({row:o})=>[f("div",Ut,[f("div",null,[d((n(),u(E,{link:"",type:"primary",onClick:C=>L(o.id)},{default:e(()=>[It]),_:2},1032,["onClick"])),[[r,["questionbank.questionbank/edit"]]]),d((n(),u(E,{link:"",type:"primary",onClick:C=>I(o.id)},{default:e(()=>[Mt]),_:2},1032,["onClick"])),[[r,["questionbank.questionbank_topic/lists"]]]),o.status==3?d((n(),u(E,{key:0,link:"",onClick:C=>v(o.id),type:"primary"},{default:e(()=>[zt]),_:2},1032,["onClick"])),[[r,["questionbank.questionbank/del"]]]):p("",!0)]),o.status!=3?(n(),u(R,{key:0,class:"ml-1 mt-[1px]",onCommand:P},{dropdown:e(()=>[t(H,null,{default:e(()=>[o.status==1?d((n(),u(F,{key:0,command:{id:o.id,type:"public"}},{default:e(()=>[jt]),_:2},1032,["command"])),[[r,["questionbank.questionbank/publish"]]]):p("",!0),o.status==2?d((n(),u(F,{key:1,command:{id:o.id,type:"withdraw"}},{default:e(()=>[Qt]),_:2},1032,["command"])),[[r,["questionbank.questionbank/off"]]]):p("",!0),d((n(),u(F,{command:{id:o.id,type:"del"}},{default:e(()=>[Ht]),_:2},1032,["command"])),[[r,["questionbank.questionbank/del"]]])]),_:2},1024)]),default:e(()=>[f("span",Ot,[St,t(Q,null,{default:e(()=>[t(j)]),_:1})])]),_:2},1024)):p("",!0)])]),_:1})]),_:1},8,["data"])),[[Y,c(b).loading]]),f("div",Rt,[t(X,{modelValue:c(b),"onUpdate:modelValue":l[4]||(l[4]=o=>Bt(b)?b.value=o:null),onChange:c(_)},null,8,["modelValue","onChange"])])])]),_:1})])}}});export{Te as default};

import{P as H,R as Q,H as W,M as X,N as Y,w as q,L as G,O as J}from"./element-plus.46c04e86.js";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang.9b41a941.js";import{u as Z}from"./usePaging.92ba177b.js";import{i as uu,j as eu,k as tu}from"./system.ab7fe0ea.js";import{d as lu,r as E,j as su,o as t,c as d,X as o,P as e,Q as $,u as f,O as r,a as l,U as _,W as v,Y as x,a8 as A,k as ou,V as a,b7 as au,b6 as iu}from"./@vue.6265a5d9.js";import{d as nu}from"./index.9967fbd7.js";import"./@vueuse.66625460.js";import"./@element-plus.84bb5020.js";import"./lodash-es.bb7dceda.js";import"./dayjs.f16af943.js";import"./axios.0f2860ff.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.9848f74d.js";import"./vue-router.be7d85e4.js";import"./pinia.d91ee8f0.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.3e9ac15b.js";import"./color.a065fa6b.js";import"./clone.f258b259.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.29279dd9.js";import"./ms.a9ae1d6d.js";import"./nprogress.423ae918.js";import"./vue-clipboard3.ae536e99.js";import"./clipboard.6f2755f0.js";import"./echarts.8d7a50ae.js";import"./zrender.1084fa23.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.3fa8b4f2.js";const c=g=>(au("data-v-42126d70"),g=g(),iu(),g),du={class:"system-update"},ru=c(()=>l("div",{class:"iconSize"},"\u6E29\u99A8\u63D0\u793A\uFF1A",-1)),_u=c(()=>l("div",{class:"iconSize flex"},[a(" 1.\u7248\u672C\u66F4\u65B0\u9700\u8981\u9010\u4E2A\u7248\u672C\u66F4\u65B0\uFF0C "),l("div",{class:"a-key"}," \u66F4\u65B0\u524D\u8BF7\u5907\u4EFD\u597D\u7CFB\u7EDF\u548C\u6570\u636E\u5E93\uFF0C\u66F4\u65B0\u6210\u529F\u540E\u9700\u8981\u5F3A\u5236\u5237\u65B0\u7AD9\u70B9\uFF1B ")],-1)),Fu=c(()=>l("div",{class:"iconSize"},"2.\u7CFB\u7EDF\u6CA1\u6709\u505A\u4E8C\u6B21\u5F00\u53D1\uFF0C\u53EF\u4EE5\u76F4\u63A5\u9009\u62E9\u5728\u7EBF\u66F4\u65B0\u529F\u80FD\uFF1B",-1)),cu=c(()=>l("div",{class:"iconSize"}," 3.\u7CFB\u7EDF\u5DF2\u505A\u4E8C\u6B21\u5F00\u53D1\uFF0C\u8FDB\u884C\u4E86\u529F\u80FD\u4FEE\u6539\uFF0C\u8BF7\u8C28\u614E\u9009\u62E9\u5728\u7EBF\u66F4\u65B0\u529F\u80FD\uFF0C\u63A8\u8350\u4EE5\u66F4\u65B0\u5305\u7684\u5F62\u5F0F\u624B\u52A8\u66F4\u65B0\uFF1B ",-1)),pu={class:"ls-card mt-[16rpx]"},mu={class:"flex"},Bu=a(" new"),Eu={class:"m-l-5"},fu={class:""},vu={class:"operation flex flex-wrap"},Cu=a("\u4E00\u952E\u66F4\u65B0 "),yu=a("\u4E0B\u8F7D\u5B8C\u6574\u5B89\u88C5\u5305 "),Du=a("\u4E0B\u8F7D\u670D\u52A1\u7AEF\u66F4\u65B0\u5305"),gu=a("\u4E0B\u8F7Dpc\u7AEF\u66F4\u65B0\u5305"),ku=a("\u4E0B\u8F7Duniapp\u66F4\u65B0\u5305"),hu=a(" \u4E0B\u8F7D\u540E\u53F0\u524D\u7AEF\u66F4\u65B0\u5305"),wu=a(" \u4E0B\u8F7D\u5BA2\u670D\u66F4\u65B0\u5305"),xu={class:"flex mt-4 justify-end"},Au={style:{height:"200px","text-align":"center"},"element-loading-text":"\u5207\u52FF\u5173\u95ED\u7A97\u53E3\u6216\u5237\u65B0\u9875\u9762"},bu=c(()=>l("div",null,"\u7CFB\u7EDF\u66F4\u65B0\u4E2D\uFF0C\u66F4\u65B0\u5B8C\u6BD5\u540E\u4F1A\u81EA\u884C\u5237\u65B0\u9875\u9762",-1)),zu=[bu],Vu={key:0,style:{height:"200px"}},Su=c(()=>l("div",{class:"",style:{"text-align":"center"}}," \u4E00\u952E\u66F4\u65B0\u5BFC\u81F4\u7684\u7CFB\u7EDF\u95EE\u9898\uFF0C\u6B22\u8FCE\u524D\u5F80\u793E\u533A\u53CD\u9988\uFF0C\u8BF7\u505A\u597D\u7CFB\u7EDF\u5907\u4EFD\uFF01 ",-1)),$u={class:"btn-div flex-col",style:{width:"160px",margin:"auto"}},Uu=a("\u786E\u5B9A\u66F4\u65B0"),Tu=a(" \u53D6\u6D88\u66F4\u65B0"),Pu={key:1,style:{height:"200px"}},Lu=c(()=>l("div",{class:"",style:{"text-align":"center"}},[l("div",null,"\u4E8C\u6B21\u5F00\u53D1\u540E\u8BF7\u8C28\u614E\u4F7F\u7528\u4E00\u952E\u66F4\u65B0\u529F\u80FD\uFF01"),l("div",null,"\u4E8C\u6B21\u5F00\u53D1\u540E\u4E00\u952E\u66F4\u65B0\u5BFC\u81F4\u7684\u7CFB\u7EDF\u95EE\u9898\uFF0C\u5B98\u65B9\u65E0\u6CD5\u5904\u7406\uFF0C\u8BF7\u505A\u597D\u7CFB\u7EDF\u5907\u4EFD\uFF01")],-1)),Nu={class:"btn-div flex-col",style:{width:"160px",margin:"auto"}},Iu=a("\u786E\u5B9A\u66F4\u65B0"),ju=a(" \u4E0B\u8F7D\u66F4\u65B0\u5305\uFF0C\u624B\u52A8\u66F4\u65B0"),Ou=a(" \u53D6\u6D88\u66F4\u65B0"),Mu={style:{height:"200px"}},Ru=c(()=>l("div",{class:"pb-4",style:{"text-align":"center"}},"\u7CFB\u7EDF\u662F\u5426\u8FDB\u884C\u4E8C\u6B21\u5F00\u53D1",-1)),Hu={class:"flex-col"},Qu=a("\u672A\u505A\u4E8C\u6B21\u5F00\u53D1\uFF0C\u76F4\u63A5\u66F4\u65B0"),Wu=a("\u5DF2\u505A\u4E8C\u6B21\u5F00\u53D1"),Xu=a("\u53D6\u6D88\u66F4\u65B0"),Yu=lu({__name:"updata",setup(g){const C=E(!1),F=E(!1),k=E(!1),h=E(!0),U=E(0),b=E(0),{pager:p,getLists:z,resetParams:qu,resetPage:Gu}=Z({fetchFun:uu}),B=(y,s)=>{b.value&&clearTimeout(b.value),b.value=setTimeout(()=>{eu({id:y,update_type:s}).then(w=>{s==6?window.open(w.line,"_blank"):window.location.href=w.line})},500)},L=()=>{tu({id:U.value,update_type:1}).then(y=>{z()}).finally(()=>{k.value=!1,F.value=!1,C.value=!1})},N=y=>{C.value=!0,U.value=y},I=()=>{h.value=!1,F.value=!0},j=()=>{h.value=!0,F.value=!0},T=()=>{k.value=!0,L()};return su(()=>{z()}),(y,s)=>{const w=Q,P=W,D=X,O=Y,i=q,M=G,R=K,V=H,S=J;return t(),d("div",du,[o(P,{class:"!border-none",shadow:"never"},{default:e(()=>[o(w,{class:"xxl",type:"warning",closable:!1,"show-icon":""},{title:e(()=>[ru,_u,Fu,cu]),_:1})]),_:1}),$((t(),r(P,{class:"!border-none mt-4",shadow:"never"},{default:e(()=>[l("div",pu,[$((t(),r(M,{data:f(p).lists,style:{width:"100%"},size:"mini","header-cell-style":{background:"#f5f8ff"}},{default:e(()=>[o(D,{prop:"publish_time",label:"\u53D1\u5E03\u65E5\u671F"}),o(D,{label:"\u7248\u672C\u53F7"},{default:e(u=>[l("div",mu,[u.$index==0&&f(p).page==1?(t(),r(O,{key:0,size:"small",type:"success",effect:"plain",round:""},{default:e(()=>[Bu]),_:1})):_("",!0),l("div",Eu,v(u.row.version_no),1)]),l("div",fu,v(u.row.version_str),1)]),_:1}),o(D,{prop:"",label:"\u7248\u672C\u5185\u5BB9"},{default:e(u=>[(t(!0),d(x,null,A(u.row.add,(n,m)=>(t(),d("div",{key:m},v(n),1))),128)),(t(!0),d(x,null,A(u.row.optimize,(n,m)=>(t(),d("div",{key:m},v(n),1))),128)),(t(!0),d(x,null,A(u.row.repair,(n,m)=>(t(),d("div",{key:m},v(n),1))),128))]),_:1}),o(D,{prop:"notice",label:"\u6CE8\u610F\u4E8B\u9879"},{default:e(u=>[(t(!0),d(x,null,A(u.row.notice,(n,m)=>(t(),d("div",{class:"",key:m},v(n),1))),128))]),_:1}),o(D,{label:"\u64CD\u4F5C","min-width":"200px"},{default:e(u=>[l("div",vu,[u.row.able_update==1?(t(),r(i,{key:0,class:"m-r-10",type:"primary",size:"small",onClick:n=>N(u.row.id)},{default:e(()=>[Cu]),_:2},1032,["onClick"])):_("",!0),u.row.integral_package_link?(t(),r(i,{key:1,class:"m-r-10",type:"",size:"small",onClick:n=>B(u.row.id,6)},{default:e(()=>[yu]),_:2},1032,["onClick"])):_("",!0),u.row.package_link?(t(),r(i,{key:2,class:"m-r-10",type:"",size:"small",onClick:n=>B(u.row.id,2)},{default:e(()=>[Du]),_:2},1032,["onClick"])):_("",!0),u.row.pc_package_link?(t(),r(i,{key:3,class:"m-r-10",type:"",size:"small",onClick:n=>B(u.row.id,3)},{default:e(()=>[gu]),_:2},1032,["onClick"])):_("",!0),u.row.uniapp_package_link?(t(),r(i,{key:4,class:"m-r-10",type:"",size:"small",onClick:n=>B(u.row.id,4)},{default:e(()=>[ku]),_:2},1032,["onClick"])):_("",!0),u.row.web_package_link?(t(),r(i,{key:5,class:"",type:"",size:"small",onClick:n=>B(u.row.id,5)},{default:e(()=>[hu]),_:2},1032,["onClick"])):_("",!0),u.row.kefu_package_link?(t(),r(i,{key:6,class:"",type:"",size:"small",onClick:n=>B(u.row.id,8)},{default:e(()=>[wu]),_:2},1032,["onClick"])):_("",!0)])]),_:1})]),_:1},8,["data"])),[[S,!1]])]),l("div",xu,[o(R,{modelValue:f(p),"onUpdate:modelValue":s[0]||(s[0]=u=>ou(p)?p.value=u:null),onChange:f(z)},null,8,["modelValue","onChange"])])]),_:1})),[[S,f(p).loading]]),o(V,{class:"dialog",title:"",modelValue:C.value,"onUpdate:modelValue":s[7]||(s[7]=u=>C.value=u),width:"50%",center:""},{default:e(()=>[o(V,{class:"dialogTwo",width:"50%",modelValue:F.value,"onUpdate:modelValue":s[5]||(s[5]=u=>F.value=u),"append-to-body":"",center:""},{default:e(()=>[o(V,{class:"dialogThree",width:"50%",modelValue:k.value,"onUpdate:modelValue":s[1]||(s[1]=u=>k.value=u),"append-to-body":"",center:"","close-on-click-modal":!1,"close-on-press-escape":!1},{default:e(()=>[$((t(),d("div",Au,zu)),[[S,f(p).loading]])]),_:1},8,["modelValue"]),h.value==!1?(t(),d("div",Vu,[Su,l("div",$u,[o(i,{type:"primary",onClick:T,size:"small",style:{"margin-top":"15px","margin-left":"0"},class:"mr-3"},{default:e(()=>[Uu]),_:1}),o(i,{onClick:s[2]||(s[2]=u=>F.value=!1),size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[Tu]),_:1})])])):_("",!0),h.value==!0?(t(),d("div",Pu,[Lu,l("div",Nu,[o(i,{type:"primary",onClick:T,size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[Iu]),_:1}),o(i,{onClick:s[3]||(s[3]=u=>F.value=!1),size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[ju]),_:1}),o(i,{onClick:s[4]||(s[4]=u=>F.value=!1),size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[Ou]),_:1})])])):_("",!0)]),_:1},8,["modelValue"]),l("div",Mu,[Ru,l("div",Hu,[o(i,{type:"primary",onClick:I,size:"small"},{default:e(()=>[Qu]),_:1}),o(i,{onClick:j,size:"small"},{default:e(()=>[Wu]),_:1}),o(i,{onClick:s[6]||(s[6]=u=>C.value=!1),size:"small"},{default:e(()=>[Xu]),_:1})])])]),_:1},8,["modelValue"])])}}});const Ue=nu(Yu,[["__scopeId","data-v-42126d70"]]);export{Ue as default};

import{_ as g}from"./index.vue_vue_type_script_setup_true_lang.9b41a941.js";import{R as w,H as x,w as V,M as $,b as N,L as P}from"./element-plus.46c04e86.js";import{a as L}from"./vue-router.be7d85e4.js";import{u as R}from"./usePaging.92ba177b.js";import{c as T,d as j}from"./level.617f02c2.js";import{f as M}from"./index.9967fbd7.js";import{d as U,j as q,aq as H,o as l,c as I,X as t,P as u,Q as m,O as d,u as f,V as i,W as c,a as E,U as O,k as Q}from"./@vue.6265a5d9.js";import"./@vueuse.66625460.js";import"./@element-plus.84bb5020.js";import"./lodash-es.bb7dceda.js";import"./dayjs.f16af943.js";import"./axios.0f2860ff.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.9848f74d.js";import"./pinia.d91ee8f0.js";import"./vue-demi.ebc8116b.js";import"./css-color-function.3e9ac15b.js";import"./color.a065fa6b.js";import"./clone.f258b259.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.29279dd9.js";import"./ms.a9ae1d6d.js";import"./nprogress.423ae918.js";import"./vue-clipboard3.ae536e99.js";import"./clipboard.6f2755f0.js";import"./echarts.8d7a50ae.js";import"./zrender.1084fa23.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.3fa8b4f2.js";const S=i("\u65B0\u589E\u5206\u9500\u7B49\u7EA7"),W=i("\u8BE6\u60C5"),X=i("\u7F16\u8F91"),z=i("\u5220\u9664"),G={class:"flex justify-end mt-4"},Te=U({__name:"index",setup(J){const F=L(),v=()=>{F.push("/app/distribute/levelEdit")},B=(r,s)=>{F.push(`/app/distribute/levelEdit?id=${r}&type=${s}`)},D=async r=>{await M.confirm("\u786E\u8BA4\u5220\u9664\uFF1F"),await T({id:r}),_()},{pager:a,getLists:_,resetPage:K,resetParams:Y}=R({fetchFun:j});return q(()=>{_()}),(r,s)=>{const A=w,C=x,n=V,o=$,h=N,k=P,y=g,p=H("perms");return l(),I("div",null,[t(C,{class:"!border-none",shadow:"never"},{default:u(()=>[t(A,{type:"warning",title:"1.\u7BA1\u7406\u5206\u9500\u5546\u7684\u7B49\u7EA7\uFF0C\u7CFB\u7EDF\u9ED8\u8BA4\u7B49\u7EA7\u4E0D\u80FD\u5220\u9664\uFF1B2.\u5220\u9664\u5206\u9500\u7B49\u7EA7\u65F6\uFF0C\u4F1A\u91CD\u65B0\u8C03\u6574\u5206\u9500\u5546\u7B49\u7EA7\u4E3A\u7CFB\u7EDF\u9ED8\u8BA4\u7B49\u7EA7\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C",closable:!1,"show-icon":""})]),_:1}),t(C,{class:"!border-none mt-4",shadow:"never"},{default:u(()=>[m((l(),d(n,{type:"primary",onClick:v},{default:u(()=>[S]),_:1})),[[p,["distribute.level/add"]]]),t(k,{class:"mt-4",data:f(a).lists,"row-style":{height:"60px"}},{default:u(()=>[t(o,{label:"\u7B49\u7EA7\u540D\u79F0",prop:"name"}),t(o,{label:"\u7B49\u7EA7\u7EA7\u522B",prop:"level_desc"}),t(o,{label:"\u80CC\u666F\u56FE"},{default:u(({row:e})=>[t(h,{class:"w-[100px] h-[72px]",src:e.level_bg},null,8,["src"])]),_:1}),t(o,{label:"\u81EA\u8D2D\u4F63\u91D1\u6BD4\u4F8B(%)",prop:"self_ratio"},{default:u(({row:e})=>[i(c(e.self_ratio),1)]),_:1}),t(o,{label:"\u4E00\u7EA7\u4F63\u91D1\u6BD4\u4F8B(%)",prop:"first_ratio"},{default:u(({row:e})=>[i(c(e.first_ratio),1)]),_:1}),t(o,{label:"\u4E8C\u7EA7\u4F63\u91D1\u6BD4\u4F8B(%)",prop:"second_ratio"},{default:u(({row:e})=>[i(c(e.second_ratio),1)]),_:1}),t(o,{label:"\u5206\u9500\u5546\u6570"},{default:u(({row:e})=>[E("div",null,c(e.distributor_num||0),1)]),_:1}),t(o,{label:"\u64CD\u4F5C","min-width":"180"},{default:u(({row:e})=>[E("div",null,[m((l(),d(n,{type:"primary",onClick:b=>B(e.id,"detail"),link:""},{default:u(()=>[W]),_:2},1032,["onClick"])),[[p,["distribute.level/detail"]]]),m((l(),d(n,{type:"primary",onClick:b=>B(e.id,"edit"),link:""},{default:u(()=>[X]),_:2},1032,["onClick"])),[[p,["distribute.level/edit"]]]),e.is_default?O("",!0):m((l(),d(n,{key:0,type:"primary",onClick:b=>D(e.id),link:""},{default:u(()=>[z]),_:2},1032,["onClick"])),[[p,["distribute.level/del"]]])])]),_:1})]),_:1},8,["data"]),E("div",G,[t(y,{modelValue:f(a),"onUpdate:modelValue":s[0]||(s[0]=e=>Q(a)?a.value=e:null),onChange:f(_)},null,8,["modelValue","onChange"])])]),_:1})])}}});export{Te as default};
